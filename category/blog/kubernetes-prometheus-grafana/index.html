<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.1cfadd536e0ed4ee026c.css">pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}</style><meta name="generator" content="Gatsby 2.23.3"/><link rel="icon" href="/favicon-32x32.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#0c9ee4"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=83455313757f7d5558ecbb4d2c6744cf"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=83455313757f7d5558ecbb4d2c6744cf"/><style type="text/css">
    .anchor-header.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor-header.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor-header svg,
    h2 .anchor-header svg,
    h3 .anchor-header svg,
    h4 .anchor-header svg,
    h5 .anchor-header svg,
    h6 .anchor-header svg {
      visibility: hidden;
    }
    h1:hover .anchor-header svg,
    h2:hover .anchor-header svg,
    h3:hover .anchor-header svg,
    h4:hover .anchor-header svg,
    h5:hover .anchor-header svg,
    h6:hover .anchor-header svg,
    h1 .anchor-header:focus svg,
    h2 .anchor-header:focus svg,
    h3 .anchor-header:focus svg,
    h4 .anchor-header:focus svg,
    h5 .anchor-header:focus svg,
    h6 .anchor-header:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">GKE를 통한 쿠버네티스 클러스터 생성 및 Prometheus &amp; Grafana 시각화와 알람 설정 | 어서OpShow</title><link data-react-helmet="true" rel="canonical" href="https://ssuwani.github.io/category/blog/kubernetes-prometheus-grafana/"/><meta data-react-helmet="true" name="description" content="GKE를 통한 쿠버네티스 클러스터 생성 및 Prometheus &amp; Grafana 시각화와 알람 설정 목차 Cluster 만들기 ✅ Cloud SDK로 손쉽게 클러스터 다루기 ✅ Prometheus &amp; Grafana 설치 ✅ Slack Alert ✅ 1. Cluster 만들기 GCP…"/><meta data-react-helmet="true" property="og:title" content="GKE를 통한 쿠버네티스 클러스터 생성 및 Prometheus &amp; Grafana 시각화와 알람 설정"/><meta data-react-helmet="true" property="og:description" content="GKE를 통한 쿠버네티스 클러스터 생성 및 Prometheus &amp; Grafana 시각화와 알람 설정 목차 Cluster 만들기 ✅ Cloud SDK로 손쉽게 클러스터 다루기 ✅ Prometheus &amp; Grafana 설치 ✅ Slack Alert ✅ 1. Cluster 만들기 GCP…"/><meta data-react-helmet="true" property="og:image" content="https://ssuwani.github.io/images/ogp.png"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="google-site-verification" content="imj7G-ZerBh3MsHkiadmx_eAwSqAeRatmOr0p2L0eJs"/><meta data-react-helmet="true" name="naver-site-verification" content="159e698b7dfa582ec3ebdb9c2ad273a4d9a0ed4c"/><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","headline":"GKE를 통한 쿠버네티스 클러스터 생성 및 Prometheus & Grafana 시각화와 알람 설정","image":"https://ssuwani.github.io/images/ogp.png","editor":"장수완","datePublished":"2021-10-21","dateCreated":"2021-10-21","dateModified":"2021-10-21","description":"GKE를 통한 쿠버네티스 클러스터 생성 및 Prometheus & Grafana 시각화와 알람 설정 목차 Cluster 만들기 ✅ Cloud SDK로 손쉽게 클러스터 다루기 ✅ Prometheus & Grafana 설치 ✅ Slack Alert ✅ 1. Cluster 만들기 GCP…","author":{"@type":"Person","name":"장수완","image":"https://ssuwani.github.io/images/avatar.png"},"publisher":{"@type":"Organization","name":"장수완","logo":{"@type":"ImageObject","url":"https://ssuwani.github.io/images/avatar.png","width":150,"height":150}}}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://ssuwani.github.io","name":"HOME"}},{"@type":"ListItem","position":2,"item":{"@id":"https://ssuwani.github.io/blog","name":"블로그"}},{"@type":"ListItem","position":3,"item":{"name":"GKE를 통한 쿠버네티스 클러스터 생성 및 Prometheus & Grafana 시각화와 알람 설정"}}]}</script><style data-styled="iiFkmw gNlojF fmzpzu kdMpgf gcLmet liSTQX kAscXg devmEB fTBRLr izTbdK hAYIMS bCIgZk irBJXq KBaLi hyGLFx htBxaS jNtXLx ejjRZu cuevDS AxgAV bpgLWH gFKJVf kilaSx bvCMhp" data-styled-version="4.4.1">
/* sc-component-id: sc-global-4288524390 */
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;-webkit-tap-highlight-color:rgba(0,0,0,0);} html,body{height:100%;} body{--bg:#f5f5f5;--textNormal:#21242d;--headerBackground:#ffffff;--bioBackground:#f5f5f5;--bioColor:rgba(0,0,0,0.87);--bioHighlight:#000000;--categoryHeader:rgba(0,0,0,0.87);--categoryColor:rgba(0,0,0,0.87);--categotyImgage:linear-gradient(-45deg,#ffa649,#f7645b,#805ed4);--postCardColor:rgba(0,0,0,0.87);--postCardHighlight:rgba(0,0,0,0.08);--postCardEmoji:#ffffff;--postCardDivideLine:#969fa7;--tableOfContentsFocusColor:rgb(33,37,41) background-color:var(--bg);color:var(--textNormal);line-height:1.6;font-size:100%;font-weight:400;font-family:"Helvetica Neue",Helvetica,Arial,"Hiragino Kaku Gothic ProN","Hiragino Kaku Gothic Pro","メイリオ",Meiryo,sans-serif;-webkit-text-size-adjust:100%;} body.dark{--bg:#21242d;--textNormal:#21242d;--headerBackground:#3B71DA;--bioBackground:#313746;--bioColor:#ffffff;--bioHighlight:#ffffff;--categoryHeader:#ffffff;--categoryColor:#727d86;--categotyImgage:#313746;--postCardColor:#ffffff;--postCardHighlight:#313746;--postCardEmoji:#313746;--postCardDivideLine:#313746;--tableOfContentsFocusColor:#f1f4f7;background-color:var(--bg);color:var(--textNormal);line-height:1.6;font-size:100%;font-weight:400;font-family:"Helvetica Neue",Helvetica,Arial,"Hiragino Kaku Gothic ProN","Hiragino Kaku Gothic Pro","メイリオ",Meiryo,sans-serif;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;} article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;} a{color:#20a8ea;-webkit-text-decoration:none;text-decoration:none;word-break:break-all;-webkit-transition:.2s;transition:.2s;} a:focus{outline:none;} ol,ul,li{list-style:none;} blockquote,q{quotes:none;} blockquote::before,blockquote::after,q::before,q::after{content:'';content:none;} table{border-collapse:collapse;border-spacing:0;} *{box-sizing:border-box;} img{max-width:100%;} button,input{font-family:inherit;font-size:inherit;background:none;border:none;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;resize:none;} button:focus,input:focus{outline:none;}
/* sc-component-id: ContentWrapper__IndexContent-sc-184f5wv-0 */
.gNlojF{max-width:1250px;margin:0 auto;padding:0 1.5em;} @media screen and (max-width:950px){.gNlojF{max-width:760px;}} @media screen and (max-width:500px){.gNlojF{padding:0 20px;}}
/* sc-component-id: Footer__FooterContent-bp79pz-0 */
.kilaSx{padding:0.1em 0;}
/* sc-component-id: Footer__FooterInner-bp79pz-1 */
.bvCMhp{margin-top:3em;text-align:center;padding:1.5em;border-top:solid 1px #313746;color:#727d86;font-size:14px;} .bvCMhp a{color:#727d86;-webkit-text-decoration:underline;text-decoration:underline;}
/* sc-component-id: ColorModeToggle__ToggleButton-sc-1os8jrt-0 */
.kdMpgf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:auto;cursor:pointer;} .kdMpgf .icon-sun{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;text-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;color:#222;} .kdMpgf .icon-moon{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;text-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;color:#fff;}
/* sc-component-id: Header__HeaderTag-sc-17pj47e-0 */
.iiFkmw{background:var(--headerBackground);width:100%;box-shadow:rgba(0,0,0,0.2) 0px 3px 3px -2px,rgba(0,0,0,0.14) 0px 3px 4px 0px,rgba(0,0,0,0.12) 0px 1px 8px 0px;}
/* sc-component-id: Header__HeaderInner-sc-17pj47e-1 */
.fmzpzu{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:5px;} .fmzpzu .logo{width:150px;height:75px;} @media screen and (max-width:500px){.fmzpzu .logo{margin:0 auto;}} .fmzpzu .message-link{position:absolute;right:0;top:7px;display:block;width:34px;} .fmzpzu .message-link:hover{top:5px;}
/* sc-component-id: Layout__Content-sc-12w4uko-0 */
.gcLmet{margin-top:2em;min-height:85vh;} @media screen and (max-width:950px){.gcLmet{display:block;}} @media screen and (max-width:500px){.gcLmet{margin-top:0;}}
/* sc-component-id: MainWrapper__IndexWrapper-sel83t-0 */
.liSTQX{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin-top:2em;min-height:85vh;} @media screen and (max-width:950px){.liSTQX{display:block;}} @media screen and (max-width:500px){.liSTQX{margin-top:0;}}
/* sc-component-id: MainWrapper__ContentsWrapper-sel83t-1 */
.kAscXg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:calc(100% - 290px - 40px);margin-right:40px;} @media screen and (max-width:950px){.kAscXg{width:100%;}}
/* sc-component-id: CategoryLabel__Wrapper-jondgh-0 */
.irBJXq .category-text{padding:0.3em 1em;display:inline-block;display:inline;padding:3px 6px;line-height:1.2;font-size:12px;border-radius:2px;font-weight:700;color:#fff;} @media screen and (max-width:950px){.irBJXq .category-text{font-size:11px;padding:2.5px 6px;}}
/* sc-component-id: RelatedPosts__Wrapper-u5r1r9-0 */
.hyGLFx{background:#f1f4f7;padding:2em 2.5em;} @media screen and (max-width:500px){.hyGLFx{padding:30px 20px;}}
/* sc-component-id: RelatedPosts__PostCardWrapper-u5r1r9-1 */
.htBxaS .post-card-link{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:1em;padding:15px;background:#fff;border-radius:5px;color:#313746;box-shadow:0 1px 2px rgba(0,0,0,0.1);} .htBxaS .post-card-link:hover{background:#e0ebf1;} @media screen and (max-width:500px){.htBxaS .post-card-link{padding:10px;}}
/* sc-component-id: RelatedPosts__PostCardEmoji-u5r1r9-2 */
.jNtXLx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;box-shadow:0 2px 4px rgba(0,0,0,0.4);margin:0;width:80px;height:80px;background:#f1f4f7;border-radius:4px;font-size:50px;} .jNtXLx img{width:55px;height:55px;}
/* sc-component-id: RelatedPosts__PostCardContent-u5r1r9-3 */
.ejjRZu{width:calc(100% - 80px);padding-left:15px;} .ejjRZu h5{font-size:1.1em;font-weight:700;line-height:1.45;} .ejjRZu time{display:block;margin-bottom:0.1em;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;font-size:0.8em;color:#969fa7;} @media screen and (max-width:500px){.ejjRZu{padding-left:15px;}.ejjRZu h5{font-size:1em;}}
/* sc-component-id: TableOfContents__TableIndex-v24s1h-0 */
.cuevDS{position:-webkit-sticky;position:sticky;top:2em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left;width:320px;padding:1.5em;background:none;border-radius:4px;} @media screen and (max-width:950px){.cuevDS{position:relative;margin:2em 0;width:100%;}} @media screen and (max-width:500px){.cuevDS{padding:1.3em 1em;}}
/* sc-component-id: TableOfContents__TableWrapper-v24s1h-1 */
.AxgAV{display:block;width:100%;max-height:calc(100vh - 150px);word-break:break-word;color:black;overflow:auto;border-left:1.5px solid rgb(233,236,239);}
/* sc-component-id: TableOfContents__TableHeader-v24s1h-2 */
.bpgLWH{display:block;text-align:left;font-size:17px;color:var(--bioColor);padding-left:15px;margin-bottom:15px;}
/* sc-component-id: TableOfContents__TableContents-v24s1h-3 */
.gFKJVf{margin:0 10px;font-size:14px;overflow:hidden;-webkit-transition:all 0.125s ease-in 0s;transition:all 0.125s ease-in 0s;} .gFKJVf a{display:block;color:rgb(134,142,150);} .gFKJVf a:hover{color:var(--tableOfContentsFocusColor);} .gFKJVf ul{list-style:none;margin-left:10px;margin-bottom:0px;line-height:1.5rem;} .gFKJVf ul > li a[href='']{color:var(--tableOfContentsFocusColor);-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}
/* sc-component-id: post__Content-sc-1poaq2w-0 */
.devmEB{position:relative;background:#fff;overflow:hidden;font-size:16px;} .devmEB:before,.devmEB:after{content:'';position:absolute;width:0;height:0;z-index:5;-webkit-transition:all 0.2s ease-out 0s;transition:all 0.2s ease-out 0s;} .devmEB:before{top:0;left:0;border-top:20px solid var(--bg);border-right:20px solid transparent;} .devmEB:after{bottom:0;right:0;border-bottom:20px solid var(--bg);border-left:20px solid transparent;} @media screen and (max-width:500px){.devmEB{margin:0 -20px;}.devmEB:before,.devmEB:after{content:none;}}
/* sc-component-id: post__HeroImage-sc-1poaq2w-1 */
.fTBRLr{position:relative;background:#313746;text-align:center;background-image:url("/static/pattern-00b88abde489053a0ab3b3e799db37b9.svg");background-repeat:repeat;background-size:400px;min-height:230px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;} .fTBRLr .emoji{width:110px;height:110px;} @media screen and (max-width:500px){.fTBRLr{min-height:190px;}}
/* sc-component-id: post__ContentMain-sc-1poaq2w-2 */
.izTbdK{padding:1.8em 2.5em;} @media screen and (max-width:500px){.izTbdK{padding:30px 20px;}}
/* sc-component-id: post__PostTitle-sc-1poaq2w-3 */
.bCIgZk{margin:0.1em 0 0.3em;font-size:1.8em;font-weight:700;line-height:1.5;} @media screen and (max-width:500px){.bCIgZk{font-size:25px;}}
/* sc-component-id: post__PostDate-sc-1poaq2w-4 */
.hAYIMS{display:block;color:#969fa7;font-size:0.9em;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;}
/* sc-component-id: post__PostContent-sc-1poaq2w-5 */
.KBaLi{margin:1.5em 0 1em;line-height:1.9;} .KBaLi .gatsby-highlight{margin:1.5em 0;} @media screen and (max-width:500px){.KBaLi .gatsby-highlight{margin:1.5em -20px;}} .KBaLi code[class*='language-'],.KBaLi pre[class*='language-']{-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;font-family:Menlo,Monaco,'Courier New',monospace;color:#ccc;text-shadow:none;word-break:break-all;} .KBaLi pre[class*='language-'],.KBaLi:not(pre) > code[class*='language-']{background:#313746;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,0.5);} @media screen and (max-width:500px){.KBaLi pre[class*='language-'],.KBaLi:not(pre) > code[class*='language-']{border-radius:0;}} .KBaLi pre[class*='language-']{padding:1.2em 1.2em;-webkit-overflow-scrolling:touch;position:relative;font-size:14.5px;line-height:1.7;overflow:auto;} .KBaLi .gatsby-highlight pre[class*='language-'].line-numbers{padding-left:3.4em;} .KBaLi pre[class*='language-'].line-numbers span.line-numbers-rows{padding:1.2em 0 1.2em 0.7em;background-color:hsla(0,0%,78.4%,0.15);border:none;} .KBaLi .token.comment,.KBaLi .token.block-comment,.KBaLi .token.prolog,.KBaLi .token.doctype,.KBaLi .token.cdata{color:#999;} .KBaLi .token.punctuation{color:#ccc;} .KBaLi .token.tag,.KBaLi .token.attr-name,.KBaLi .token.namespace,.KBaLi .token.deleted{color:#e2777a;} .KBaLi .token.function-name{color:#6196cc;} .KBaLi .token.boolean,.KBaLi .token.number,.KBaLi .token.function{color:#f08d49;} .KBaLi .token.property,.KBaLi .token.class-name,.KBaLi .token.constant,.KBaLi .token.symbol{color:#f8c555;} .KBaLi .token.selector,.KBaLi .token.important,.KBaLi .token.atrule,.KBaLi .token.keyword,.KBaLi .token.builtin{color:#cc99cd;} .KBaLi .token.string,.KBaLi .token.char,.KBaLi .token.attr-value,.KBaLi .token.regex,.KBaLi .token.variable{color:#7ec699;} .KBaLi .token.operator,.KBaLi .token.entity,.KBaLi .token.url{color:#67cdcc;} .KBaLi .token.important,.KBaLi .token.bold{font-weight:bold;} .KBaLi .token.italic{font-style:italic;} .KBaLi .token.entity{cursor:help;} .KBaLi .token.inserted{color:green;} .KBaLi .gatsby-code-title{position:relative;margin:1.5em 0 -24px auto;background:#616161;color:#fff;font-size:12px;height:24px;padding:0 8px;line-height:24px;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-weight:500;border-radius:0 5px;display:table;z-index:2;} @media screen and (max-width:500px){.KBaLi .gatsby-code-title{border-radius:0 0 0 5px;margin-right:-20px;}} .KBaLi .gatsby-code-title + .gatsby-highlight{margin-top:0;} .KBaLi p > code,.KBaLi li > code{color:#ff3860 !important;background:#f9f1f3;padding:0.15em 0.4em;margin:0.2em;border-radius:4px;font-size:0.85em;word-break:break-all;white-space:pre-line;} .KBaLi strong > code{font-family:inherit !important;} .KBaLi a:hover{-webkit-text-decoration:underline;text-decoration:underline;} .KBaLi p{margin:0.5em 0;} .KBaLi h1,.KBaLi h2,.KBaLi h3,.KBaLi h4,.KBaLi h5,.KBaLi h6{margin:40px 0 10px;font-weight:700;line-height:1.5;} .KBaLi h1{margin:45px 0 12px;padding:5px 0 5px 17px;font-size:1.55em;} .KBaLi h1:before{position:absolute;top:0;left:0;content:"";display:inline-block;width:5px;height:100%;border-radius:5px;background:linear-gradient(0deg,#ffa649 0%,#ffa649 50%,#f7645b 50%,#f7645b 100%);} .KBaLi h2{position:relative;margin:45px 0 12px;padding:5px 0 5px 17px;font-size:1.40em;} .KBaLi h2:before{position:absolute;top:0;left:0;content:"";display:inline-block;width:5px;height:100%;border-radius:5px;background:linear-gradient(0deg,#ffa649 0%,#ffa649 50%,#f7645b 50%,#f7645b 100%);} .KBaLi h3{margin:40px 0 12px;font-size:1.40em;} .KBaLi h4{position:relative;padding-left:18px;font-size:1.2em;} .KBaLi h4:before{position:absolute;top:.2em;left:0;content:"";display:inline-block;width:14px;height:19px;background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMzAgNDUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwIDQ1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0Y3NjQ1Qzt9Cgkuc3Qxe2ZpbGw6I0ZGQTc0ODt9Cjwvc3R5bGU+Cjx0aXRsZT5pY29uPC90aXRsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI4LjEsMzAuMWMwLDcuNS02LjEsMTMuNi0xMy42LDEzLjZTMC45LDM3LjcsMC45LDMwLjFTNywxNi41LDE0LjUsMTYuNVMyOC4xLDIyLjYsMjguMSwzMC4xeiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjguMSwxNS42YzAsNy41LTYuMSwxMy42LTEzLjYsMTMuNlMwLjksMjMuMSwwLjksMTUuNlM3LDIsMTQuNSwyUzI4LjEsOC4xLDI4LjEsMTUuNnoiLz4KPC9zdmc+Cg==");background-size:contain;background-repeat:no-repeat;} .KBaLi ul,.KBaLi ol{margin:1em 0;} .KBaLi ul p,.KBaLi ol p{margin:0;} .KBaLi ul{padding-left:1.2em;} .KBaLi ul li{margin:.4em 0;list-style:disc;} .KBaLi ul ul,.KBaLi ul ol{margin:0;} .KBaLi ol{counter-reset:number;} .KBaLi ol > li{list-style:none;list-style-position:inside;position:relative;padding:0 0 0 30px;margin:0.5em 0;} .KBaLi ol > li:before{display:inline-block;position:absolute;left:0;top:0;width:20px;height:20px;margin:.4em 0;border-radius:25%;background:#5c9ee7;color:#fff;font-weight:700;font-size:14px;text-align:center;line-height:20px;content:counter(number);counter-increment:number;} .KBaLi ol ul{margin:0;} .KBaLi strong{font-weight:550;font-size:1.1em;} .KBaLi em{font-style:italic;} .KBaLi del{-webkit-text-decoration:line-through;text-decoration:line-through;} .KBaLi hr{display:block;margin:2em 0;border:none;border-top:dotted 3px #e1eaf3;} .KBaLi table{display:block;margin:1em 0;border-spacing:2px;border-collapse:separate;overflow:auto;-webkit-overflow-scrolling:touch;width:auto;font-size:.9em;line-height:1.4;} .KBaLi table th{background-color:#313746;color:#FFF;padding:10px 12px;text-align:center;font-weight:700;} .KBaLi table th[align="center"]{text-align:center;} .KBaLi table th[align="right"]{text-align:right;} .KBaLi table td{background-color:#f1f4f7;color:#313746;padding:10px 12px;} .KBaLi table td code[class*='language-']{color:#313746;} .KBaLi table thead tr th:first-child{border-radius:5px 0 0 0;} .KBaLi table thead tr th:last-child{border-radius:0 5px 0 0;} .KBaLi table tbody tr:last-child td:first-child{border-radius:0 0 0 5px;} .KBaLi table tbody tr:last-child td:last-child{border-radius:0 0 5px 0;} .KBaLi blockquote{margin:1em 0;padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5;} .KBaLi .gatsby-resp-image-wrapper{margin:2em 0;box-shadow:1px 1px 20px lightgrey;border-radius:4px;overflow:hidden;} .KBaLi .anchor-header{margin:2px 0 0 0;} .KBaLi .custom-block{margin:1em 0;background:#f1f4f7;} .KBaLi .custom-block-heading{font-weight:700;} .KBaLi .custom-block-heading .emoji{width:1.2em !important;height:1.2em !important;vertical-align:-0.2em !important;} .KBaLi .custom-block-body{font-size:0.92em;} .KBaLi .custom-block-body > *:first-child{margin-top:0;} .KBaLi .custom-block-body > *:last-child{margin-bottom:0;} .KBaLi .custom-block-body h5{font-size:1.05em;margin:20px 0 5px;} .KBaLi > *:first-child{margin-top:0;} .KBaLi .custom-block.simple{padding:1em 1.2em;border-radius:5px;} .KBaLi .custom-block.simple .custom-block-heading{font-size:1.1em;} .KBaLi .custom-block.info,.KBaLi .custom-block.alert,.KBaLi .custom-block.notice{padding:0.7em 1em;border-left:solid 4px #20a8ea;border-radius:1px 3px 3px 1px;} .KBaLi .custom-block.alert{border-left-color:#f7615f;background:#ffeff0;} .KBaLi .custom-block.alert .custom-block-heading{color:#f7615f;} .KBaLi .custom-block.notice{border-left-color:#ffa22b;background:#fff4df;} .KBaLi .custom-block.notice .custom-block-heading{color:#ffa22b;} .KBaLi .custom-block.image-small,.KBaLi .custom-block.image-medium{background:#c0e2fb;padding:1.5em;text-align:center;border-radius:5px;} .KBaLi .custom-block.image-small .gatsby-resp-image-wrapper,.KBaLi .custom-block.image-medium .gatsby-resp-image-wrapper{margin:0;border:none;box-shadow:0 5px 15px rgba(0,0,0,0.15);} .KBaLi .custom-block.image-small .gatsby-resp-image-wrapper{max-width:350px !important;border:none;} .KBaLi .custom-block.image-medium .gatsby-resp-image-wrapper{max-width:450px !important;border:none;}</style><link as="script" rel="preload" href="/webpack-runtime-91cbc5ed6c6972297464.js"/><link as="script" rel="preload" href="/framework-59a9ef51c55d9b62f7de.js"/><link as="script" rel="preload" href="/styles-09367947dddffb36886c.js"/><link as="script" rel="preload" href="/app-e1cbbafd9e0d67222ba1.js"/><link as="script" rel="preload" href="/de71a805-ab927e1633c63597cfb4.js"/><link as="script" rel="preload" href="/53b27b57f60ee3e1ca57a66cde9add975dffb161-2b60719b91291bfda095.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-ee1c336a1aa63cfbc58e.js"/><link as="fetch" rel="preload" href="/page-data/category/blog/kubernetes-prometheus-grafana/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="App" style="background-color:var(--bg);color:var(--textNormal);transition:color 0.2s ease-out, background 0.2s ease-out"><header class="Header__HeaderTag-sc-17pj47e-0 iiFkmw"><div class="ContentWrapper__IndexContent-sc-184f5wv-0 gNlojF"><div class="Header__HeaderInner-sc-17pj47e-1 fmzpzu"><a class="logo-link" href="/"><img class="logo" src="/static/logo-ec471251d97b410ffb71148a2ce05745.png" alt="어서OpShow"/></a><div class="ColorModeToggle__ToggleButton-sc-1os8jrt-0 kdMpgf"><div style="position:relative;display:inline-block;text-align:left;opacity:1;direction:ltr;border-radius:13px;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s;touch-action:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none"><div class="react-switch-bg" style="height:26px;width:54px;margin:0;position:relative;background:#d9dfe2;border-radius:13px;cursor:pointer;-webkit-transition:background 0.25s;-moz-transition:background 0.25s;transition:background 0.25s"><div style="height:26px;width:29px;position:relative;opacity:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon-moon checkedIcon"><svg width="24" height="24" fill="#EFDC05"><rect width="24" height="24" fill="none" rx="0" ry="0"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M14.8102 3.2H13.8202C13.4902 3.2 13.2302 2.93 13.2302 2.6C13.2302 2.27 13.5002 2 13.8302 2H16.2602C16.5002 2 16.7202 2.15 16.8102 2.37C16.9002 2.59 16.8502 2.85 16.6802 3.02L15.2702 4.43H16.2602C16.5902 4.43 16.8602 4.7 16.8602 5.03C16.8602 5.36 16.5902 5.63 16.2602 5.63H13.8202C13.5802 5.63 13.3602 5.48 13.2702 5.26C13.1802 5.04 13.2302 4.78 13.4002 4.61L14.8102 3.2ZM20.1401 11.0101H21.1301C21.4601 11.0101 21.7401 11.2801 21.7401 11.6101C21.7401 11.9401 21.4701 12.2101 21.1401 12.2101H18.7001C18.4601 12.2101 18.2401 12.0601 18.1501 11.8401C18.0601 11.6201 18.1101 11.3601 18.2801 11.1901L19.6901 9.78008H18.7001C18.3701 9.78008 18.1001 9.51008 18.1001 9.18008C18.1001 8.85008 18.3701 8.58008 18.7001 8.58008H21.1301C21.3701 8.58008 21.5901 8.73008 21.6801 8.95008C21.7701 9.17008 21.7201 9.43008 21.5501 9.60008L20.1401 11.0101ZM11.0302 9.8499H12.8502L10.7002 11.9999C10.5302 12.1699 10.4802 12.4299 10.5702 12.6499C10.6602 12.8699 10.8802 13.0199 11.1202 13.0199H14.2902C14.6202 13.0199 14.8902 12.7499 14.8902 12.4199C14.8902 12.0899 14.6202 11.8199 14.2902 11.8199H12.5602L14.7102 9.6699C14.8802 9.4999 14.9302 9.2399 14.8402 9.0199C14.7502 8.7999 14.5302 8.6499 14.2902 8.6499H11.0202C10.6902 8.6499 10.4202 8.9199 10.4202 9.2499C10.4202 9.5799 10.7002 9.8499 11.0302 9.8499ZM14.5501 16.89C15.6601 16.89 16.7201 16.66 17.7101 16.19C17.9401 16.08 18.2101 16.13 18.3801 16.3C18.5601 16.48 18.6101 16.75 18.5001 16.98C17.0901 20.05 13.9901 22.03 10.6001 22.03C5.79013 22.03 1.88013 18.12 1.88013 13.31C1.88013 9.94004 3.87013 6.84004 6.93013 5.40004C7.16013 5.29004 7.43012 5.34004 7.61012 5.52004C7.79012 5.70004 7.84013 5.97004 7.73013 6.20004C7.27013 7.19004 7.03012 8.26004 7.03012 9.38004C7.03012 13.52 10.4001 16.89 14.5501 16.89ZM3.09013 13.31C3.09013 17.46 6.46012 20.83 10.6101 20.83C12.9901 20.83 15.2001 19.7 16.6001 17.85C15.9401 18.01 15.2501 18.09 14.5501 18.09C9.74013 18.09 5.83012 14.18 5.83012 9.38004C5.83012 8.68004 5.91013 7.99004 6.07013 7.32004C4.22013 8.73004 3.09013 10.94 3.09013 13.31Z"></path></svg></div></div><div style="height:26px;width:29px;position:absolute;opacity:1;right:0;top:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon-sun uncheckedIcon"><svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.2" baseProfile="tiny" viewBox="0 0 24 24" size="24" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 6.934l1-2.934c.072-.213.078-.452 0-.682-.188-.553-.789-.848-1.341-.659-.553.189-.847.788-.659 1.341l1 2.934zM4 11c-.213-.072-.452-.078-.682 0-.553.188-.848.789-.659 1.341.189.553.788.847 1.341.659l2.934-1-2.934-1zM12 17.066l-1 2.934c-.072.213-.078.452 0 .682.188.553.789.848 1.341.659.553-.189.847-.788.659-1.341l-1-2.934zM21.341 11.657c-.188-.553-.788-.848-1.341-.659l-2.934 1 2.934 1c.213.072.452.078.682 0 .552-.188.847-.789.659-1.341zM5.636 7.05l2.781 1.367-1.367-2.781c-.1-.202-.265-.375-.482-.482-.524-.258-1.157-.042-1.415.482-.257.523-.041 1.157.483 1.414zM5.153 17.432c-.257.523-.041 1.156.482 1.414.523.257 1.157.041 1.414-.482l1.367-2.781-2.781 1.367c-.201.099-.374.263-.482.482zM18.363 16.949l-2.781-1.367 1.367 2.781c.1.202.264.375.482.482.523.257 1.156.041 1.414-.482s.042-1.157-.482-1.414zM18.844 6.566c.258-.524.042-1.157-.481-1.415-.523-.257-1.157-.041-1.414.482l-1.369 2.783 2.782-1.368c.202-.1.375-.264.482-.482zM12 7.5c-2.481 0-4.5 2.019-4.5 4.5s2.019 4.5 4.5 4.5 4.5-2.019 4.5-4.5-2.019-4.5-4.5-4.5z"></path></svg></div></div></div><div class="react-switch-handle" style="height:26px;width:26px;background:#ffffff;display:inline-block;cursor:pointer;border-radius:50%;position:absolute;transform:translateX(0px);top:0;outline:0;box-shadow:0px 1px 5px rgba(0, 0, 0, 0.6);border:0;-webkit-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;-moz-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s"></div><input type="checkbox" role="switch" style="border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px" id="normal-switch"/></div></div></div></div></header><div class="ContentWrapper__IndexContent-sc-184f5wv-0 gNlojF"><div class="Layout__Content-sc-12w4uko-0 gcLmet"><main><div class="MainWrapper__IndexWrapper-sel83t-0 liSTQX"><div class="MainWrapper__ContentsWrapper-sel83t-1 kAscXg"><section class="post__Content-sc-1poaq2w-0 devmEB"><p class="post__HeroImage-sc-1poaq2w-1 fTBRLr"><img class="emoji" draggable="false" alt="⌚️" src="https://twemoji.maxcdn.com/v/12.1.6/svg/231a.svg"/></p><div class="post__ContentMain-sc-1poaq2w-2 izTbdK"><time class="post__PostDate-sc-1poaq2w-4 hAYIMS">2021.10.21</time><h1 class="post__PostTitle-sc-1poaq2w-3 bCIgZk">GKE를 통한 쿠버네티스 클러스터 생성 및 Prometheus &amp; Grafana 시각화와 알람 설정</h1><div class="CategoryLabel__Wrapper-jondgh-0 irBJXq"><a class="category-text" style="background:#ffa22b" href="/category/blog">블로그</a></div><div class="post__PostContent-sc-1poaq2w-5 KBaLi"><h1 id="gke를-통한-쿠버네티스-클러스터-생성-및-prometheus--grafana-시각화와-알람-설정" style="position:relative;"><a href="#gke%EB%A5%BC-%ED%86%B5%ED%95%9C-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%83%9D%EC%84%B1-%EB%B0%8F-prometheus--grafana-%EC%8B%9C%EA%B0%81%ED%99%94%EC%99%80-%EC%95%8C%EB%9E%8C-%EC%84%A4%EC%A0%95" aria-label="gke를 통한 쿠버네티스 클러스터 생성 및 prometheus  grafana 시각화와 알람 설정 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GKE를 통한 쿠버네티스 클러스터 생성 및 Prometheus &#x26; Grafana 시각화와 알람 설정</h1>
<p><strong>목차</strong></p>
<ol>
<li>Cluster 만들기 ✅</li>
<li>Cloud SDK로 손쉽게 클러스터 다루기 ✅</li>
<li>Prometheus &#x26; Grafana 설치 ✅</li>
<li>Slack Alert ✅</li>
</ol>
<hr>
<h1 id="1-cluster-만들기" style="position:relative;"><a href="#1-cluster-%EB%A7%8C%EB%93%A4%EA%B8%B0" aria-label="1 cluster 만들기 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Cluster 만들기</h1>
<p>GCP의 Google Kubernetes Engine 을 이용해서 Cluster를 만들고자 한다. 가입을 하면 300불(한화로 약 350,000원)을 3개월간 사용할 수 있게 제공해준다. </p>
<h4 id="1-gke-standard-선택" style="position:relative;"><a href="#1-gke-standard-%EC%84%A0%ED%83%9D" aria-label="1 gke standard 선택 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>1. GKE Standard 선택</strong></h4>
<p><a href="https://console.cloud.google.com/kubernetes">https://console.cloud.google.com/kubernetes</a> 로 이동해서 클러스터 만들기를 클릭하면 GKE Standard 혹은 GKE Autopilot 둘 중 선택할 수 있다. Autopilot이 필수 구성만으로 클러스터를 설정해주고 간편하게 scaling을 할 수 있다고하여 선택했었지만 이후에 Kubeflow Pipeline을 설정하는 중 Autopilot을 통해 만든 클러스터에서는 제공되지 않는다고 하였다. <strong>GKE Standard를 선택하자.</strong></p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; ">
      <a class="gatsby-resp-image-link" href="/static/7dda0af0c52bbd8485499b459bb440a6/e72de/Untitled.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 68.08510638297872%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABhElEQVQ4y61Ty07DMBD0P/MFHDlxhRsfwL9UlZCApnlBm7RNm7fzbDJ4DEaoRVUrWGkyziZe78wmoq5rhGGIOI6x3W6xXC6x2+1gYhzHiyCyLMNkMsFsNoPruphOp7AsC1LKkxsPw6RE3/dI0xQsXFVSF0qSROdOxfEBXx3y4vs+FouFBiUTzBGe58G2bc2E4zjamqIokOc5CoU0yxGuE9VQBcHToijSHrIrvrxer7HZbLSXvOdzrsnMUw2VlGWpuFTFS+ziHJWah6BM01UYBDg3jI+HfgopK7zO5nh+sWDNbd0dsVqt9PTNmnIOvRuGz2LWm8TNg69ZtN2IKOmxiXvIekTXdWjb9gj7/f5oAKbgq1fg+t7SLOiB6zrKbFvzOVJ/fjqm6LfkXBnquJ6a8LueIs2nRDIHEChfycwZ+eQkzRBELbKix9O8wNWtpVnUzR5l1X+fTmmH4LdKKwiTG4YBXT/ofV4gcffoaxb4YxxN+dJ/9XcATdOhbpr/KchoVDH+PR/iYTskfTE2YQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Untitled" title="Untitled" src="/static/7dda0af0c52bbd8485499b459bb440a6/1d69c/Untitled.png" srcset="/static/7dda0af0c52bbd8485499b459bb440a6/4dcb9/Untitled.png 188w,
/static/7dda0af0c52bbd8485499b459bb440a6/5ff7e/Untitled.png 375w,
/static/7dda0af0c52bbd8485499b459bb440a6/1d69c/Untitled.png 750w,
/static/7dda0af0c52bbd8485499b459bb440a6/78797/Untitled.png 1125w,
/static/7dda0af0c52bbd8485499b459bb440a6/e72de/Untitled.png 1198w" sizes="(max-width: 750px) 100vw, 750px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
  </a>
    </span>
<h4 id="2-기본사항-입력" style="position:relative;"><a href="#2-%EA%B8%B0%EB%B3%B8%EC%82%AC%ED%95%AD-%EC%9E%85%EB%A0%A5" aria-label="2 기본사항 입력 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>2. 기본사항 입력</strong></h4>
<p>클러스터 이름: <strong>monitoring-cluster</strong></p>
<p>위치유형: 영역 → <strong>asia-northeast3-a</strong> (GCP의 한국리젼의 위치이다. 속도에서 이점이 있다.)</p>
<p>기타: 노드 수, 머신 유형 등 다양한 선택을 할 수 있지만 default로 둔다.</p>
<h4 id="3-만들기" style="position:relative;"><a href="#3-%EB%A7%8C%EB%93%A4%EA%B8%B0" aria-label="3 만들기 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>3. 만들기</strong></h4>
<p>만들기 클릭 후 5분정도이 시간이 소요되었다.</p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; ">
      <a class="gatsby-resp-image-link" href="/static/2bfe5edd11e374cfa85d2b93296e64b4/bf668/Untitled1.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 13.829787234042554%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAfElEQVQI122NyQrDQAxD8/9/WGgLpacOCbPvi1oNTMihBvGwbMubCwW1FNzuDzxfb7B67xhjnGL941W8qbVi2/cDWmtIKRFjRM4ZrTWU35OU0qT3fvokvbXHAM5J9kopbOIQMMZAiA+cczOc4kIIYdJaex7QW4EkA5cY/AUapum2J8T3ygAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Untitled1" title="Untitled1" src="/static/2bfe5edd11e374cfa85d2b93296e64b4/1d69c/Untitled1.png" srcset="/static/2bfe5edd11e374cfa85d2b93296e64b4/4dcb9/Untitled1.png 188w,
/static/2bfe5edd11e374cfa85d2b93296e64b4/5ff7e/Untitled1.png 375w,
/static/2bfe5edd11e374cfa85d2b93296e64b4/1d69c/Untitled1.png 750w,
/static/2bfe5edd11e374cfa85d2b93296e64b4/78797/Untitled1.png 1125w,
/static/2bfe5edd11e374cfa85d2b93296e64b4/aa440/Untitled1.png 1500w,
/static/2bfe5edd11e374cfa85d2b93296e64b4/bf668/Untitled1.png 2328w" sizes="(max-width: 750px) 100vw, 750px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
  </a>
    </span>
<p>클러스터의 이름을 클릭하면 더 세부적인 내용들을 확인할 수 있다. default로 만든 사양은 다음과 같다.</p>
<ul>
<li>Node 3개</li>
<li>CPU 6개</li>
<li>RAM 12GB</li>
</ul>
<p>이는 머신유형 e2-medium 에 해당되는 사양이다. 이후에 사양이 부족하여 Pod가 <strong><Pending></strong> 으로 유지가 되어 확장을 원할 때 머신유형은 변경할 수 없지만 <strong>노드의 수를 늘려서 문제를 해결할 수 있다</strong>.<br>
클러스터 세부정보 → 노드 → 노트 풀 → 수정 → 노드 수 변경</p>
<h1 id="2-cloud-sdk로-손쉽게-클러스터-다루기" style="position:relative;"><a href="#2-cloud-sdk%EB%A1%9C-%EC%86%90%EC%89%BD%EA%B2%8C-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EB%8B%A4%EB%A3%A8%EA%B8%B0" aria-label="2 cloud sdk로 손쉽게 클러스터 다루기 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Cloud SDK로 손쉽게 클러스터 다루기</h1>
<h4 id="1-cloud-sdk-설치" style="position:relative;"><a href="#1-cloud-sdk-%EC%84%A4%EC%B9%98" aria-label="1 cloud sdk 설치 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>1. Cloud SDK 설치</strong></h4>
<p>GKE 홈에서 오른쪽 상단의 Cloud Shell을 이용하면 Cluster에 접근이 가능하다. 하지만 번거로워지는 일이 많다. </p>
<p><a href="https://cloud.google.com/sdk/docs/install">https://cloud.google.com/sdk/docs/install</a> 여기를 참고하여 설치하자.</p>
<p>설치를 마치고나면 <code class="language-text">gcloud init</code> 을 통해 설정을 추가하면 로컬 터미널에서 클러스터에 바로 접근이 가능하다. </p>
<h4 id="2-설치-확인-및-클러스터-접근" style="position:relative;"><a href="#2-%EC%84%A4%EC%B9%98-%ED%99%95%EC%9D%B8-%EB%B0%8F-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%A0%91%EA%B7%BC" aria-label="2 설치 확인 및 클러스터 접근 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>2. 설치 확인 및 클러스터 접근</strong></h4>
<p><code class="language-text">kubectl get pods -A</code> 명령어를 통해 Cluster에 배포된 Pod들을 확인할 수 있다. </p>
<ul>
<li>kubectl을 아직 설치하지 않았다면 <a href="https://kubernetes.io/ko/docs/tasks/tools/#kubectl">여기</a>를 확인하자.</li>
</ul>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset: linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token operator">>></span><span class="token operator">></span> kubectl get pods -A

NAMESPACE     NAME                                                           READY   STATUS    RESTARTS   AGE
kube-system   event-exporter-gke-67986489c8-frqpf                            <span class="token number">2</span>/2     Running   <span class="token number">0</span>          11m
kube-system   fluentbit-gke-5nbl9                                            <span class="token number">2</span>/2     Running   <span class="token number">0</span>          11m
kube-system   fluentbit-gke-66m6n                                            <span class="token number">2</span>/2     Running   <span class="token number">0</span>          11m
kube-system   fluentbit-gke-975p9                                            <span class="token number">2</span>/2     Running   <span class="token number">0</span>          11m
kube-system   gke-metrics-agent-l26d9                                        <span class="token number">1</span>/1     Running   <span class="token number">0</span>          11m
kube-system   gke-metrics-agent-lxw8z                                        <span class="token number">1</span>/1     Running   <span class="token number">0</span>          11m
kube-system   gke-metrics-agent-z8s65                                        <span class="token number">1</span>/1     Running   <span class="token number">0</span>          11m
kube-system   konnectivity-agent-7664bbd67c-5gbb6                            <span class="token number">1</span>/1     Running   <span class="token number">0</span>          11m
kube-system   konnectivity-agent-7664bbd67c-lltk8                            <span class="token number">1</span>/1     Running   <span class="token number">0</span>          11m
kube-system   konnectivity-agent-7664bbd67c-ngllk                            <span class="token number">1</span>/1     Running   <span class="token number">0</span>          11m
kube-system   konnectivity-agent-autoscaler-6cb774c9cc-8hfgh                 <span class="token number">1</span>/1     Running   <span class="token number">0</span>          11m
kube-system   kube-dns-autoscaler-844c9d9448-x8c7h                           <span class="token number">1</span>/1     Running   <span class="token number">0</span>          11m
kube-system   kube-dns-b4f5c58c7-8q7k2                                       <span class="token number">4</span>/4     Running   <span class="token number">0</span>          11m
kube-system   kube-dns-b4f5c58c7-tzdfv                                       <span class="token number">4</span>/4     Running   <span class="token number">0</span>          11m
kube-system   kube-proxy-gke-monitoring-cluster-default-pool-197cd47e-12dh   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          10m
kube-system   kube-proxy-gke-monitoring-cluster-default-pool-197cd47e-nz04   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          10m
kube-system   kube-proxy-gke-monitoring-cluster-default-pool-197cd47e-tblp   <span class="token number">1</span>/1     Running   <span class="token number">0</span>          10m
kube-system   l7-default-backend-56cb9644f6-29s4b                            <span class="token number">1</span>/1     Running   <span class="token number">0</span>          11m
kube-system   metrics-server-v0.3.6-9c5bbf784-6xfkr                          <span class="token number">2</span>/2     Running   <span class="token number">0</span>          10m
kube-system   pdcsi-node-9s4l2                                               <span class="token number">2</span>/2     Running   <span class="token number">0</span>          11m
kube-system   pdcsi-node-dbtd6                                               <span class="token number">2</span>/2     Running   <span class="token number">0</span>          11m
kube-system   pdcsi-node-fblcx                                               <span class="token number">2</span>/2     Running   <span class="token number">0</span>          11m</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h1 id="3-prometheus--grafana-설치" style="position:relative;"><a href="#3-prometheus--grafana-%EC%84%A4%EC%B9%98" aria-label="3 prometheus  grafana 설치 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Prometheus &#x26; Grafana 설치</h1>
<p>특히 모델 학습을 하는 머신러닝 프로젝트에서 효율적인 하드웨어 관리를 위해서는 모니터링이 필수적이다. </p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; ">
      <a class="gatsby-resp-image-link" href="/static/5f7f72563616678f644c20505644148f/29114/flow.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 56.38297872340425%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABwUlEQVQoz42TwWvUQBjF958RpYKw7YpgseBfIoqIVhDRU2+ePXjRk+BFBVu8a0GLN1nUg4u0tNB2jeum6TY12SSbyZqZ+ZlMkjW7UvANw0wy3/fmzTdvGmTQWpten9d7DiklQggzb7fbNFsLzJ9vcfrsHNduXKdCo0jQqGxUSjMLrRQoSZKRWZbFaDRi4/07zl2Yo7XU5MzCKa7evJJTFISVqgoyhc7Rd7r+UUZUkpZrwXBoxs72LheXLnNpcZH5ZpPlW8uzCmHLluzYCSKK+OLssX/sEMVjRHcH9eYF2j0wxDlp+nWDaOsTYSIJg4A4FpONjcK9geTuWsztlwH7/QBr6NIf+oTRiODRffTzh4yfPiBPi398hvU78O1Z9pX+LU1Zb0Po+Cn3XnmsvD6mZ/u0nU12PYdYpHhvV1Frj0k+riMyCcLvIt0nKG8VLX+TH7BeMkOo0jFWf4B96DIWMdsHDrbnE2XH/xWEHP7sEYpkkjQY2ARhUFNGjTD/MXWt8KHfYdPtlQmqcEBmm0KNMm5Q+e2Xuf8o1KVllAnIWhFr2OvBesZVVUwdjSlp6FqQntTnJOPPPoopwsrgJ72c/8Uf+a44jl/ums8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="flow" title="flow" src="/static/5f7f72563616678f644c20505644148f/1d69c/flow.png" srcset="/static/5f7f72563616678f644c20505644148f/4dcb9/flow.png 188w,
/static/5f7f72563616678f644c20505644148f/5ff7e/flow.png 375w,
/static/5f7f72563616678f644c20505644148f/1d69c/flow.png 750w,
/static/5f7f72563616678f644c20505644148f/78797/flow.png 1125w,
/static/5f7f72563616678f644c20505644148f/aa440/flow.png 1500w,
/static/5f7f72563616678f644c20505644148f/29114/flow.png 1920w" sizes="(max-width: 750px) 100vw, 750px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
  </a>
    </span>
<p>시각화까지의 과정을 간단히 그려보았다. 프로메테우스는 pulling의 방법을 사용하여 각종 메트릭을 수집하는 역할을 하고, 그라파나는 이를 이용하여 시각화하는 역할을 수행한다.</p>
<h4 id="1-helm-설치" style="position:relative;"><a href="#1-helm-%EC%84%A4%EC%B9%98" aria-label="1 helm 설치 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>1. Helm 설치</strong></h4>
<p>Helm은 쿠버네티스 패키지 배포를 손쉽게 해주는 패키지 매니저이다. (nodejs의 npm, python의 pip와 비슷하고 kubectl, kustomize, helm 이렇게 3개가 대표적인 kubenetes용 패키지 매니저이다.)</p>
<p>설치는 간단히 kubectl과 비슷하게 binary 파일을 다운받아 적절한 위치에 추가만 해주면 된다.</p>
<p><a href="https://helm.sh/ko/docs/intro/install/">https://helm.sh/ko/docs/intro/install/</a> 를 참고하자.</p>
<h4 id="2-prometheus-operator-설치로-한방에-필요한-도구들-설치" style="position:relative;"><a href="#2-prometheus-operator-%EC%84%A4%EC%B9%98%EB%A1%9C-%ED%95%9C%EB%B0%A9%EC%97%90-%ED%95%84%EC%9A%94%ED%95%9C-%EB%8F%84%EA%B5%AC%EB%93%A4-%EC%84%A4%EC%B9%98" aria-label="2 prometheus operator 설치로 한방에 필요한 도구들 설치 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>2. Prometheus Operator 설치로 한방에 필요한 도구들 설치</strong></h4>
<p>Prometheus와 Grafana의 설치를 차근차근 따라간다면 설치해야 할 것들이 정말 많다. </p>
<p>데이터 수집을 도와주는 node-exporter, Pod에 대한 지표를 생성하는 kube-state-metrics </p>
<p>이를 한번에 설치해주는 Promethues-Operator를 설치해보자. (이를 제대로 사용하기 위해선 Operator Framework에 대한 개념이 필요한 것으로 보인다. <a href="https://devthomas.tistory.com/6">여기</a>를 참고해서 더 공부하자.)</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">## prometheus-community 레포 추가
helm repo add prometheus-community https://prometheus-community.github.io/helm-charts

# 네임스페이스 생성
kubectl create namespace monitoring

# 설치
helm install -n monitoring monitor prometheus-community/kube-prometheus-stack</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>38 ~ </p>
<h4 id="3-동작확인" style="position:relative;"><a href="#3-%EB%8F%99%EC%9E%91%ED%99%95%EC%9D%B8" aria-label="3 동작확인 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>3. 동작확인</strong></h4>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">&gt;&gt;&gt; kubectl get svc -n monitoring

NAME                                      TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)                      AGE
alertmanager-operated                     ClusterIP   None           &lt;none&gt;        9093/TCP,9094/TCP,9094/UDP   8s
monitor-grafana                           ClusterIP   10.32.8.212    &lt;none&gt;        80/TCP                       30s
monitor-kube-prometheus-st-alertmanager   ClusterIP   10.32.9.98     &lt;none&gt;        9093/TCP                     30s
monitor-kube-prometheus-st-operator       ClusterIP   10.32.1.45     &lt;none&gt;        443/TCP                      30s
monitor-kube-prometheus-st-prometheus     ClusterIP   10.32.8.236    &lt;none&gt;        9090/TCP                     30s
monitor-kube-state-metrics                ClusterIP   10.32.14.210   &lt;none&gt;        8080/TCP                     30s
monitor-prometheus-node-exporter          ClusterIP   10.32.2.7      &lt;none&gt;        9100/TCP                     30s
prometheus-operated                       ClusterIP   None           &lt;none&gt;        9090/TCP                     8s</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>내가 관심있는 것은 <code class="language-text">monitor-kube-prometheus-st-prometheus</code>와 <code class="language-text">monitor-grafana</code> 이다 Type이 ClusterIP로 되어있는 것을 확인하자.</p>
<h4 id="4-prometheus-ui-접속하기" style="position:relative;"><a href="#4-prometheus-ui-%EC%A0%91%EC%86%8D%ED%95%98%EA%B8%B0" aria-label="4 prometheus ui 접속하기 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>4. Prometheus UI 접속하기</strong></h4>
<p>서비스 타입이 ClusterIP라면 LoadBalancer혹은 NodePort로 변경하거나 Port-forwarding을 통해 Pod에 직접 접근해야한다. 포트포워딩을 통해 접근해보자.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">kubectl -n monitoring port-forward svc/monitor-kube-prometheus-st-prometheus 9090:9090</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p><a href="http://localhost:9090">localhost:9090</a> 에 접근해보자. 아래와 같은 화면을 볼 수 있다. 크게 3개의 탭으로 구성되어 있다. Alert, Graph, Status. 특히 Status → Target 에 보면 어디서 어떠한 데이터를 가져오는지 확인할 수 있다. 또한 Alert 탭을 확인해보면 기본적으로 다양한 조건들에 대한 Alert이 활성화 되어 있는것을 볼 수 있다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f3cba6977aeea8c1fcdb450ea53645ef/d9ed5/Untitled2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 31.382978723404253%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABG0lEQVQY05XPXUvCYBjG8X2H1Jm6sjnRfJ0vc246dRNNLemgCPoIQhFEdNBnqTAz6SSiT/jv0S08Curgx33BffHw3JJ70cc9G+CcuButSYfOtEfruIs1crDGW8bAouoZ1PoNX5ArYvamHqPzCVLdcNArJpWaRbFskC+ZpHMGWkZHTRdRUzlULR/IoWXrpA9rYl8WvUaQdUrmmKIpHswWyihqlkRSI6Yk2VUOCEUVduS4LxITM7DO0YRP7DY9ISzLpOqnqM4VkuMe0Wy76FXx7f6QrjekaXew271fdAPbbK3ZNoVCHunmesZi/sjT85y31fvG63L1Ly+LJR+fX9zdPyBlvFtU45JQOCJOSBBanyL/zL/wu9H4PvE9lW+1yNHuTM8HugAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/f3cba6977aeea8c1fcdb450ea53645ef/1d69c/Untitled2.png"
        srcset="/static/f3cba6977aeea8c1fcdb450ea53645ef/4dcb9/Untitled2.png 188w,
/static/f3cba6977aeea8c1fcdb450ea53645ef/5ff7e/Untitled2.png 375w,
/static/f3cba6977aeea8c1fcdb450ea53645ef/1d69c/Untitled2.png 750w,
/static/f3cba6977aeea8c1fcdb450ea53645ef/78797/Untitled2.png 1125w,
/static/f3cba6977aeea8c1fcdb450ea53645ef/aa440/Untitled2.png 1500w,
/static/f3cba6977aeea8c1fcdb450ea53645ef/d9ed5/Untitled2.png 2880w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h4 id="5-grafana-ui-접속하기" style="position:relative;"><a href="#5-grafana-ui-%EC%A0%91%EC%86%8D%ED%95%98%EA%B8%B0" aria-label="5 grafana ui 접속하기 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>5. Grafana UI 접속하기</strong></h4>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">kubectl -n monitoring port-forward svc/monitor-grafana 8080:80</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p><a href="http://localhost:8080">localhost:8080</a> 에 접근해보자. Login을 해야하는데 Prometheus-Operator를 통해 설치했다면 username: <code class="language-text">admin</code> password: <code class="language-text">prom-operator</code> 로 로그인이 가능하다.</p>
<p>각각을 따로 설치했다면 Data Source로 Prometheus 를 등록해야 하는데 이미 등록되어 있다.</p>
<p>시각화를 위한 대시보드를 만들어보자. 아니 불러와보자. 그라파나에서는 프로메테우스의 정보들을 Prometheus Query(PromQL)를 통해 불러올 수 있고, 이를 통해 대시보드를 만들 수 있다. 하지만 다른 사람이 만들어놓은 대시보드를 Import 하고 필요에 따라 세부적인 사항들을 수정해 사용할수도 있다.</p>
<p>Import로 이동해서 <a href="https://grafana.com/grafana/dashboards/1860">Node Exporter Full</a> 를 추가해보자. ID값은 1860이다.</p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; ">
      <a class="gatsby-resp-image-link" href="/static/190b66e69f48d2dc11a15775a6aab1d1/d7e70/Untitled3.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 39.8936170212766%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABLUlEQVQoz43Ru0oDQRQG4Gk190x2d257v2RDzKZINhEJ0UJIiqAoCKIWqXwBEWxiYR2sfCDf7HdcRJBA1uLjP8WZA+cM6RgCjDsQ0sfRYATP76Le6KDRNHY0WyZabWsv4rgxsuEUjpsgn8zRH4yLWtmBFkKqALYTFdmmrBi6D6HURL1WQa16iGrloEjabsG01A5qcNDOfsSNcxyvNphdvmJ2scHp9Ruy+SMsJsGEqzm/uHRLEa87xdnNFsuHdyzutlitP5AvnmAyoRucPwOZsEs4ILYbIopTBGGCOOnB9UK9HofQ9+P6bmXETzL9qVx6IMrrYzg+R9ybQvkZlJfBkilMkZT67qOGjW5+j9vnT0yWLyBchWAqgiUCzS+SyfB/9FtLeLCjEdLxFfz0BF+4l9w/7zM2OQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Untitled3" title="Untitled3" src="/static/190b66e69f48d2dc11a15775a6aab1d1/1d69c/Untitled3.png" srcset="/static/190b66e69f48d2dc11a15775a6aab1d1/4dcb9/Untitled3.png 188w,
/static/190b66e69f48d2dc11a15775a6aab1d1/5ff7e/Untitled3.png 375w,
/static/190b66e69f48d2dc11a15775a6aab1d1/1d69c/Untitled3.png 750w,
/static/190b66e69f48d2dc11a15775a6aab1d1/78797/Untitled3.png 1125w,
/static/190b66e69f48d2dc11a15775a6aab1d1/d7e70/Untitled3.png 1286w" sizes="(max-width: 750px) 100vw, 750px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
  </a>
    </span>
<p>Datasource로 Prometheus를 선택하고 Import를 누르면 된다.</p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; ">
      <a class="gatsby-resp-image-link" href="/static/3803fe835cbb8fb827e771f3e2e5bad3/fbf76/Untitled4.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 19.148936170212767%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAdElEQVQY02MwM7f7r61n+l9aVum/pLT8fwkpObKxpJT8fwYVccH/igry/9XUtP8Li0j+5+MXAdNCRGJhJFpCUu4/g0vU5P8Wvk3/1XUs/puaW/3X1jWmyJUMPslz/9sFd/3X0LX6b23j8F/f0AzifKD3ycEANt1tsvruU3YAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Untitled4" title="Untitled4" src="/static/3803fe835cbb8fb827e771f3e2e5bad3/1d69c/Untitled4.png" srcset="/static/3803fe835cbb8fb827e771f3e2e5bad3/4dcb9/Untitled4.png 188w,
/static/3803fe835cbb8fb827e771f3e2e5bad3/5ff7e/Untitled4.png 375w,
/static/3803fe835cbb8fb827e771f3e2e5bad3/1d69c/Untitled4.png 750w,
/static/3803fe835cbb8fb827e771f3e2e5bad3/78797/Untitled4.png 1125w,
/static/3803fe835cbb8fb827e771f3e2e5bad3/fbf76/Untitled4.png 1252w" sizes="(max-width: 750px) 100vw, 750px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
  </a>
    </span>
<p>다음과 같은 화면을 확인할 수 있다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1d9335cd72db2b262a04076a0a5ab1f9/d9ed5/Untitled5.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 59.57446808510638%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAB+UlEQVQoz1VSy3LbMAzUvUkdJ7b1IMW3REmWH3Vmkhw6ObT//01bAKrc5rADiViAiyWK2+8Zp88zrp83wfnnFcP7hPw2EEbEW4L/EQWB4zWif8uEQTC8jxKnjxnzxwWFrloo1UPrhKYOqEqHl2eFzabCfqfxvK3x8O0F3x93Eh8fdthuSjwRtk8V5Zmn0DQedWWpoQkIacIwnWF9Dx8HqDbAuI6QUDcWrY3YVxrWJpQsoPXQ1qOiXFm3OFBOOKVC0XcZOnqYGKCdQxgybKTRhh4uJbicEKcM5wIycYOLmH8d0V0yYhxJAMVuQpdnaVqwinDskYYRKQ/QnqQ3LWpvKGqoaNDwNykpDakj6EzKKKeVQ1VTXnuJDGmoVJDRGDxSa3lUh0OpcTgsaLSTsz2d7fdabLG+k3GZV1KUkavGgH1sNDVUVgpVu4C/BfTtE40deuGxh//gJK5194broSj523iFMh4u9ssjKSuFHL8KWC6ghi0MmelClhECmdzlI2JaDGejlyIPTwqdICP1k/ACfTvaDkU+NnRBUZKRyyiLQlbLZC5a1dbKkLr4tTmtV+qPaE28q+UVKhytCu8fk9YE28BYG2oaKdKlyvDjmYWjFo7sJJ0zWtrNIoQkavj2FezV///86oYKxumE4/kVp8sr8jAvCil/fyAS8Afb4kfo3U9FSgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/1d9335cd72db2b262a04076a0a5ab1f9/1d69c/Untitled5.png"
        srcset="/static/1d9335cd72db2b262a04076a0a5ab1f9/4dcb9/Untitled5.png 188w,
/static/1d9335cd72db2b262a04076a0a5ab1f9/5ff7e/Untitled5.png 375w,
/static/1d9335cd72db2b262a04076a0a5ab1f9/1d69c/Untitled5.png 750w,
/static/1d9335cd72db2b262a04076a0a5ab1f9/78797/Untitled5.png 1125w,
/static/1d9335cd72db2b262a04076a0a5ab1f9/aa440/Untitled5.png 1500w,
/static/1d9335cd72db2b262a04076a0a5ab1f9/d9ed5/Untitled5.png 2880w"
        sizes="(max-width: 750px) 100vw, 750px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>보이는 것 외에도 아래에 더 많은 정보들을 확인할 수 있다. 필요에 따라 대시보드를 수정하고 나만의 대시보드를 만들어 나가자.</p>
<h1 id="4-slack-alert" style="position:relative;"><a href="#4-slack-alert" aria-label="4 slack alert permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Slack Alert</h1>
<p>Grafana에서 Notification Channel을 추가함으로써 손쉽게 Slack으로 알람을 받을 수 있다.</p>
<h4 id="1-slack-webhook-url-생성" style="position:relative;"><a href="#1-slack-webhook-url-%EC%83%9D%EC%84%B1" aria-label="1 slack webhook url 생성 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>1. Slack Webhook URL 생성</strong></h4>
<p>Webhook은 외부 시스템에서 슬랙으로 post message를 전달하기 위한 Endpoint라고 이해하면 될 것 같다. Slack Webhook 이라고 검색하면 다양한 블로그들이 있으므로 참고해서 발급받자.</p>
<h4 id="2-grafana-alert-등록-및-테스트" style="position:relative;"><a href="#2-grafana-alert-%EB%93%B1%EB%A1%9D-%EB%B0%8F-%ED%85%8C%EC%8A%A4%ED%8A%B8" aria-label="2 grafana alert 등록 및 테스트 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>2. Grafana Alert 등록 및 테스트</strong></h4>
<ol>
<li>
<p>Grafana UI에서 Alerting 탭을 찾을 수 있을 것이다. Notification channel 탭에서 <strong>Add Channel을 클릭하자.</strong></p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; ">
      <a class="gatsby-resp-image-link" href="/static/9c6e4cdcbad87b77abbfce26d285e16b/b0f48/Untitled6.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 26.063829787234045%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAzElEQVQY022Qyw6CMBRE+QKDGMEE0tIntChKNJq4dOfCpWs3/pRLv3RsS4L4WJzc3s5kMrlRXjDoagVCNeIkwySeI56mIzJMkzef2i/RPM2RZgU4YWi0gaQCyWwxMA7zjLV/RAUR4NIFKeOaWihlUfIKlOswK9NCm3WgtuvgpazX3vQ7KRUiUkpI3QQjc/gpXKj/E7KC7U443x643J/YHK/gXEJ4zXm+YaJ2gVSGpQ8yw1u5u9plB7vaodufAk17wLLduqabwc9HJXzLF9iGiwsbUudfAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Untitled6" title="Untitled6" src="/static/9c6e4cdcbad87b77abbfce26d285e16b/1d69c/Untitled6.png" srcset="/static/9c6e4cdcbad87b77abbfce26d285e16b/4dcb9/Untitled6.png 188w,
/static/9c6e4cdcbad87b77abbfce26d285e16b/5ff7e/Untitled6.png 375w,
/static/9c6e4cdcbad87b77abbfce26d285e16b/1d69c/Untitled6.png 750w,
/static/9c6e4cdcbad87b77abbfce26d285e16b/78797/Untitled6.png 1125w,
/static/9c6e4cdcbad87b77abbfce26d285e16b/aa440/Untitled6.png 1500w,
/static/9c6e4cdcbad87b77abbfce26d285e16b/b0f48/Untitled6.png 2690w" sizes="(max-width: 750px) 100vw, 750px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
  </a>
    </span>
</li>
<li>
<p>다음과 같은 화면이 나오는데 적절한 이름과 <strong>Type은 Slack</strong>으로 설정한 뒤 Optional Slack settings 에서 <strong>Webhook URL를 입력하자.</strong></p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; ">
      <a class="gatsby-resp-image-link" href="/static/82d075f075c3006c818493a7a5c70a7e/71e8d/Untitled7.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 68.08510638297872%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABm0lEQVQ4y51Sy26jQBDkDzZOeJrHegAb8xjWYIPtZWVFK62UWw75kJzyAznmpyvdHTtyDt6QHGqmgaZU1dXG1cSGZfsIwlhgWR5SlaKpW6x0gyrXaHSLYBrhx5WFybXzXxhM5hORHyoEUYpEJejKDLu6EvRlgV1VIqf3lhPA8UI47mUYfGz3B6y7AdvdAfvhL/r9LXSzRdv9QUd1kmmYROb5Pz+FYbsBVLIUhS7Z4juMjorf69kosnfCvFghnReY+jOY1hSmfYbjM4/mUzg+zZAOFWdYLDVmKpMPNtmzHf+IQBrHgHsNPnS9kYRZietFb4P/BnhkBpNEsznNKsHkxsGN6eHadOU2x9g8gyjklFWSCdJFiWSeyx2nOabB+DAY3C+hFFWDvFzJfar1LxoDJcw2xpBxnxCywiWlXOo1srwmaKpbGkM6muyDQof3UMWI4xiLrBCrrJD30HL9LxIqXpsQm3+PGO6fMa8GNG0ni77pB1JeS3pvP0QXcXIiKVtkub97wuHhBfnqFu26l51cd7/F/onQ5R8v4Jz0FW/ne9BD2+yOAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Untitled7" title="Untitled7" src="/static/82d075f075c3006c818493a7a5c70a7e/1d69c/Untitled7.png" srcset="/static/82d075f075c3006c818493a7a5c70a7e/4dcb9/Untitled7.png 188w,
/static/82d075f075c3006c818493a7a5c70a7e/5ff7e/Untitled7.png 375w,
/static/82d075f075c3006c818493a7a5c70a7e/1d69c/Untitled7.png 750w,
/static/82d075f075c3006c818493a7a5c70a7e/78797/Untitled7.png 1125w,
/static/82d075f075c3006c818493a7a5c70a7e/71e8d/Untitled7.png 1304w" sizes="(max-width: 750px) 100vw, 750px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
  </a>
    </span>
</li>
<li>
<p>그리고 <strong>Test</strong>를 눌러 Slack에 알람이 잘 오는지 확인해보자</p>
<span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; ">
      <a class="gatsby-resp-image-link" href="/static/f6fdd3e24b15a9be9738ac94c7575cce/7b67d/Untitled8.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 20.212765957446805%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAtElEQVQY04WOyxKCMAxF+RGh9EUptZSK1NHxObjj/3/nmjIudKOLM5NJTm5SXOcFfpjQ+QGN9ahFg5IJbCq+UlEtdQsuDdUSrJaoCMYljLcwxkAqguZGahSP54LbZUY83tFPZ7iYYF2PECfE/QFCW9Qk50Cu2i9E067HxEevKEuG05gwpiMULQu6JkhyPsL1kaR32C/IYUJjS36hKDWFgGHMnwWoplulLDCu/4cR+cPsht2EF59ydc4JsO92AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Untitled8" title="Untitled8" src="/static/f6fdd3e24b15a9be9738ac94c7575cce/1d69c/Untitled8.png" srcset="/static/f6fdd3e24b15a9be9738ac94c7575cce/4dcb9/Untitled8.png 188w,
/static/f6fdd3e24b15a9be9738ac94c7575cce/5ff7e/Untitled8.png 375w,
/static/f6fdd3e24b15a9be9738ac94c7575cce/1d69c/Untitled8.png 750w,
/static/f6fdd3e24b15a9be9738ac94c7575cce/78797/Untitled8.png 1125w,
/static/f6fdd3e24b15a9be9738ac94c7575cce/aa440/Untitled8.png 1500w,
/static/f6fdd3e24b15a9be9738ac94c7575cce/7b67d/Untitled8.png 2240w" sizes="(max-width: 750px) 100vw, 750px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy">
  </a>
    </span>
</li>
<li>Save</li>
</ol></div></div><aside><div class="RelatedPosts__Wrapper-u5r1r9-0 hyGLFx"><div class="RelatedPosts__PostCardWrapper-u5r1r9-1 htBxaS"><a class="post-card-link" href="/category/blog/interview/"><p class="RelatedPosts__PostCardEmoji-u5r1r9-2 jNtXLx"><img class="emoji" draggable="false" alt="❓" src="https://twemoji.maxcdn.com/v/12.1.6/svg/2753.svg"/></p><div class="RelatedPosts__PostCardContent-u5r1r9-3 ejjRZu"><h5>[면접준비] minimum 질문&amp;답변</h5><time>2021.11.22</time></div></a></div><div class="RelatedPosts__PostCardWrapper-u5r1r9-1 htBxaS"><a class="post-card-link" href="/category/blog/hackerrank_certification/"><p class="RelatedPosts__PostCardEmoji-u5r1r9-2 jNtXLx"><img class="emoji" draggable="false" alt="📚" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f4da.svg"/></p><div class="RelatedPosts__PostCardContent-u5r1r9-3 ejjRZu"><h5>해커랭크 인증서 발급 후기</h5><time>2021.11.19</time></div></a></div><div class="RelatedPosts__PostCardWrapper-u5r1r9-1 htBxaS"><a class="post-card-link" href="/category/blog/m1-tensorflow/"><p class="RelatedPosts__PostCardEmoji-u5r1r9-2 jNtXLx"><img class="emoji" draggable="false" alt="💪" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f4aa.svg"/></p><div class="RelatedPosts__PostCardContent-u5r1r9-3 ejjRZu"><h5>[Tensorflow] M1에서 Tensorflow GPU 사용하기 (Monterey)</h5><time>2021.11.13</time></div></a></div><div class="RelatedPosts__PostCardWrapper-u5r1r9-1 htBxaS"><a class="post-card-link" href="/category/blog/effective-python/"><p class="RelatedPosts__PostCardEmoji-u5r1r9-2 jNtXLx"><img class="emoji" draggable="false" alt="📚" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f4da.svg"/></p><div class="RelatedPosts__PostCardContent-u5r1r9-3 ejjRZu"><h5>[책] 파이썬 코딩의 기술</h5><time>2021.11.02</time></div></a></div><div class="RelatedPosts__PostCardWrapper-u5r1r9-1 htBxaS"><a class="post-card-link" href="/category/blog/mlops/simple_model_deploy_mnist/"><p class="RelatedPosts__PostCardEmoji-u5r1r9-2 jNtXLx"><img class="emoji" draggable="false" alt="🏃" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f3c3.svg"/></p><div class="RelatedPosts__PostCardContent-u5r1r9-3 ejjRZu"><h5>[MLOps] Vertex AI에서 모델 배포하기 (MNIST)</h5><time>2021.11.01</time></div></a></div></div><div></div></aside></section></div><div class="TableOfContents__TableIndex-v24s1h-0 cuevDS"><div class="TableOfContents__TableWrapper-v24s1h-1 AxgAV table-of-contents"><h1 class="TableOfContents__TableHeader-v24s1h-2 bpgLWH">🔖 Catalog</h1><div class="TableOfContents__TableContents-v24s1h-3 gFKJVf"><ul>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#gke%EB%A5%BC-%ED%86%B5%ED%95%9C-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%83%9D%EC%84%B1-%EB%B0%8F-prometheus--grafana-%EC%8B%9C%EA%B0%81%ED%99%94%EC%99%80-%EC%95%8C%EB%9E%8C-%EC%84%A4%EC%A0%95">GKE를 통한 쿠버네티스 클러스터 생성 및 Prometheus &#x26; Grafana 시각화와 알람 설정</a></li>
<li>
<p><a href="/category/blog/kubernetes-prometheus-grafana/#1-cluster-%EB%A7%8C%EB%93%A4%EA%B8%B0">1. Cluster 만들기</a></p>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#1-gke-standard-%EC%84%A0%ED%83%9D"><strong>1. GKE Standard 선택</strong></a></li>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#2-%EA%B8%B0%EB%B3%B8%EC%82%AC%ED%95%AD-%EC%9E%85%EB%A0%A5"><strong>2. 기본사항 입력</strong></a></li>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#3-%EB%A7%8C%EB%93%A4%EA%B8%B0"><strong>3. 만들기</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="/category/blog/kubernetes-prometheus-grafana/#2-cloud-sdk%EB%A1%9C-%EC%86%90%EC%89%BD%EA%B2%8C-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EB%8B%A4%EB%A3%A8%EA%B8%B0">2. Cloud SDK로 손쉽게 클러스터 다루기</a></p>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#1-cloud-sdk-%EC%84%A4%EC%B9%98"><strong>1. Cloud SDK 설치</strong></a></li>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#2-%EC%84%A4%EC%B9%98-%ED%99%95%EC%9D%B8-%EB%B0%8F-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%A0%91%EA%B7%BC"><strong>2. 설치 확인 및 클러스터 접근</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="/category/blog/kubernetes-prometheus-grafana/#3-prometheus--grafana-%EC%84%A4%EC%B9%98">3. Prometheus &#x26; Grafana 설치</a></p>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#1-helm-%EC%84%A4%EC%B9%98"><strong>1. Helm 설치</strong></a></li>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#2-prometheus-operator-%EC%84%A4%EC%B9%98%EB%A1%9C-%ED%95%9C%EB%B0%A9%EC%97%90-%ED%95%84%EC%9A%94%ED%95%9C-%EB%8F%84%EA%B5%AC%EB%93%A4-%EC%84%A4%EC%B9%98"><strong>2. Prometheus Operator 설치로 한방에 필요한 도구들 설치</strong></a></li>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#3-%EB%8F%99%EC%9E%91%ED%99%95%EC%9D%B8"><strong>3. 동작확인</strong></a></li>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#4-prometheus-ui-%EC%A0%91%EC%86%8D%ED%95%98%EA%B8%B0"><strong>4. Prometheus UI 접속하기</strong></a></li>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#5-grafana-ui-%EC%A0%91%EC%86%8D%ED%95%98%EA%B8%B0"><strong>5. Grafana UI 접속하기</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="/category/blog/kubernetes-prometheus-grafana/#4-slack-alert">4. Slack Alert</a></p>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#1-slack-webhook-url-%EC%83%9D%EC%84%B1"><strong>1. Slack Webhook URL 생성</strong></a></li>
<li><a href="/category/blog/kubernetes-prometheus-grafana/#2-grafana-alert-%EB%93%B1%EB%A1%9D-%EB%B0%8F-%ED%85%8C%EC%8A%A4%ED%8A%B8"><strong>2. Grafana Alert 등록 및 테스트</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul></div></div></div></div></main></div></div><footer class="Footer__FooterContent-bp79pz-0 kilaSx"><div class="ContentWrapper__IndexContent-sc-184f5wv-0 gNlojF"><div class="Footer__FooterInner-bp79pz-1 bvCMhp"><div>© <!-- -->2022<!-- -->, Ssuwani. All rights reserved.</div></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-MM0QK4NLQE"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'G-MM0QK4NLQE'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = true;

    var options = {
      send_page_view: false
    };
    if (true) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-MM0QK4NLQE', options);
  </script><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'none', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/category/blog/kubernetes-prometheus-grafana/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e1cbbafd9e0d67222ba1.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-71ad33effa27f873a1fc.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-7c091102bb3698204e45.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-1d80a09e79bd1fe70c2b.js"],"component---src-templates-categories-tsx":["/component---src-templates-categories-tsx-5e2cc865b8dd8344b8ea.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-ee1c336a1aa63cfbc58e.js"]};/*]]>*/</script><script src="/component---src-templates-post-tsx-ee1c336a1aa63cfbc58e.js" async=""></script><script src="/53b27b57f60ee3e1ca57a66cde9add975dffb161-2b60719b91291bfda095.js" async=""></script><script src="/de71a805-ab927e1633c63597cfb4.js" async=""></script><script src="/app-e1cbbafd9e0d67222ba1.js" async=""></script><script src="/styles-09367947dddffb36886c.js" async=""></script><script src="/framework-59a9ef51c55d9b62f7de.js" async=""></script><script src="/webpack-runtime-91cbc5ed6c6972297464.js" async=""></script></body></html>