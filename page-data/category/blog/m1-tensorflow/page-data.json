{"componentChunkName":"component---src-templates-post-tsx","path":"/category/blog/m1-tensorflow/","result":{"data":{"site":{"siteMetadata":{"title":"어서OpShow","author":"장수완","siteUrl":"https://ssuwani.github.io"}},"markdownRemark":{"id":"bfdd405f-ef7e-583b-8abf-f43cebfffd5b","excerpt":"M1에서 드디어 GPU 가속을 공식적으로 지원한다.. 다만 최신 macos인 Monterey로 설치해야 한다. 여기에서 확인할 수 있다. 들어가면 설치법도 나와있으니 거기를 확인하는 게 더 좋을 수 있다. 지금 현재 (2021.11.13) 시점에서 Tensorflow…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2d93c5367eec3a1914f5eff2809aa19d/0940f/os.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.72340425531915%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACLUlEQVQoz2VSyXLTQBTUja2KUMUFHCeSPJJGm7XFm2zLtiRvMXbJiZMUgSpScKDgBCdO/AAFVfALcOAMX8A38EXNzOCF5dCaeaOZnu43LT3K2ricx2jHbSTtJrpxE4Okg/PTJSbDDMV8hnGe4sF0guko32KY9tFpNcT+PyFFDkXkUni2CcfQYesVONRAWLXhO6aAa+oCDtXEWLWM7ZpnU1FvIFGigBIVRL6Ho0BDXI8QeoTV92FqikDgWqiHnvh35LsIWR1WLUaowSTydh+HZOsEulrCcrbC1fIHLno/8bT4inGaQVP24TPlV48v8fDsBMejDKO0x+wmYs4voIyQu7J0VUDS1QO0WxFeDT9htPcNjZvfUb/2BU/GHxEFlClQUQtcZs2AbVSEKg6P2XMoEao2ZIKQyCUUswK1vedIb73GS/oZ0zvvkcvvkPf77ICM5WKGxWyCJK6jEflo1UJ0mjVh3ST/EOpKGXmvj0g5w20pwfndN3h2/QMK7y2a9UDYGecD9FgCAtcUqrhSTS7DUA9haWuy9ShxyQ7bcDycg5RilG+kGCkvMM9OYJAyXKpjOEgw6Mbod1pIkzayfheRZ4sk2AbZkXJC/uGNddnNWa/H1I7QZYctQxZ2eL+OxzlWywVrQZdlrY5VscBpMRfgr87P7wjX7Fwpt6+r+zCUA0G2jYOI1i4etCIzHP7Xv63CDSnv1+9gExFY36HidX0256/K13jNe1m19L+sbvAL4tNbomA58V8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20211113094939068\"\n        title=\"image-20211113094939068\"\n        src=\"/static/2d93c5367eec3a1914f5eff2809aa19d/1d69c/os.png\"\n        srcset=\"/static/2d93c5367eec3a1914f5eff2809aa19d/4dcb9/os.png 188w,\n/static/2d93c5367eec3a1914f5eff2809aa19d/5ff7e/os.png 375w,\n/static/2d93c5367eec3a1914f5eff2809aa19d/1d69c/os.png 750w,\n/static/2d93c5367eec3a1914f5eff2809aa19d/78797/os.png 1125w,\n/static/2d93c5367eec3a1914f5eff2809aa19d/0940f/os.png 1154w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>M1에서 드디어 GPU 가속을 공식적으로 지원한다.. 다만 최신 macos인 Monterey로 설치해야 한다. <a href=\"https://developer.apple.com/metal/tensorflow-plugin/\">여기</a>에서 확인할 수 있다. 들어가면 설치법도 나와있으니 거기를 확인하는 게 더 좋을 수 있다. 지금 현재 (2021.11.13) 시점에서 Tensorflow를 설치하고 Jupyter Lab 설치까지의 과정을 기록해두려 할 뿐이다.</p>\n<h2 id=\"1-install-xcode\" style=\"position:relative;\"><a href=\"#1-install-xcode\" aria-label=\"1 install xcode permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Install Xcode</h2>\n<p>Xcode가 설치되어 있어야 한다. 대게 설치되어 있으리라 생각된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">xcode-select --install</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2 id=\"2-install-miniforge\" style=\"position:relative;\"><a href=\"#2-install-miniforge\" aria-label=\"2 install miniforge permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Install Miniforge</h2>\n<p><a href=\"https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-MacOSX-arm64.sh\">여기</a>를 클릭하면 Miniforge3-MacOSX-arm64.sh 파일을 다운받을 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> +x ~/Downloads/Miniforge3-MacOSX-arm64.sh\n<span class=\"token function\">sh</span> ~/Downloads/Miniforge3-MacOSX-arm64.sh\n<span class=\"token builtin class-name\">source</span> ~/miniforge3/bin/activate</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"3-create-env\" style=\"position:relative;\"><a href=\"#3-create-env\" aria-label=\"3 create env permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Create Env</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">conda create -n tf <span class=\"token assign-left variable\">python</span><span class=\"token operator\">==</span><span class=\"token number\">3.9</span> -y\nconda activate tf</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h2 id=\"4-install-tensorflow\" style=\"position:relative;\"><a href=\"#4-install-tensorflow\" aria-label=\"4 install tensorflow permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Install Tensorflow</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> -c apple tensorflow-deps\npip <span class=\"token function\">install</span> tensorflow-macos\npip <span class=\"token function\">install</span> tensorflow-metal</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>이까지 진행하면 아래와 같이 tensorflow 설치를 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token function\">import</span> tensorflow as tf\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> tf.__version__\n<span class=\"token string\">'2.6.0'</span>\n\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> tf.config.list_physical_devices<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span>PhysicalDevice<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'/physical_device:CPU:0'</span>, <span class=\"token assign-left variable\">device_type</span><span class=\"token operator\">=</span><span class=\"token string\">'CPU'</span><span class=\"token punctuation\">)</span>, PhysicalDevice<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'/physical_device:GPU:0'</span>, <span class=\"token assign-left variable\">device_type</span><span class=\"token operator\">=</span><span class=\"token string\">'GPU'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"5-install-jupyter-notebook--lab\" style=\"position:relative;\"><a href=\"#5-install-jupyter-notebook--lab\" aria-label=\"5 install jupyter notebook  lab permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Install jupyter notebook &#x26; lab</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">conda <span class=\"token function\">install</span> -c conda-forge jupyter jupyterlab</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>","tableOfContents":"<ul>\n<li><a href=\"/category/blog/m1-tensorflow/#1-install-xcode\">1. Install Xcode</a></li>\n<li><a href=\"/category/blog/m1-tensorflow/#2-install-miniforge\">2. Install Miniforge</a></li>\n<li><a href=\"/category/blog/m1-tensorflow/#3-create-env\">3. Create Env</a></li>\n<li><a href=\"/category/blog/m1-tensorflow/#4-install-tensorflow\">4. Install Tensorflow</a></li>\n<li><a href=\"/category/blog/m1-tensorflow/#5-install-jupyter-notebook--lab\">5. Install jupyter notebook &#x26; lab</a></li>\n</ul>","frontmatter":{"title":"[Tensorflow] M1에서 Tensorflow GPU 사용하기 (Monterey)","description":"","date":"2021.11.13","emoji":"💪","category":"blog"}}},"pageContext":{"slug":"/category/blog/m1-tensorflow/","relatedPosts":[{"node":{"fields":{"slug":"/category/blog/interview/"},"frontmatter":{"title":"[면접준비] minimum 질문&답변","date":"2021.11.22","emoji":"❓","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/hackerrank_certification/"},"frontmatter":{"title":"해커랭크 인증서 발급 후기","date":"2021.11.19","emoji":"📚","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/effective-python/"},"frontmatter":{"title":"[책] 파이썬 코딩의 기술","date":"2021.11.02","emoji":"📚","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/mlops/simple_model_deploy_mnist/"},"frontmatter":{"title":"[MLOps] Vertex AI에서 모델 배포하기 (MNIST)","date":"2021.11.01","emoji":"🏃","category":"blog"}}}]}}}