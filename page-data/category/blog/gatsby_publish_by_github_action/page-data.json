{"componentChunkName":"component---src-templates-post-tsx","path":"/category/blog/gatsby_publish_by_github_action/","result":{"data":{"site":{"siteMetadata":{"title":"어서OpShow","author":"장수완","siteUrl":"https://ssuwani.github.io"}},"markdownRemark":{"id":"0c603f7d-00f7-5ef0-8fb3-fa0e989ed96f","excerpt":"CI & CD 툴, Github Action을 이용한 Gatsby 블로그 배포 자동화 방법을 간단하게 기록합니다.  기존의 방식 일단 2개의 branch가 필요하다  : 배포를 위한 정적 파일 위치  : Gatsby 코드 파일 위치 사실 이름은 중요하지 않다. settings…","html":"<div class=\"custom-block info\"><div class=\"custom-block-heading\">CI &#x26; CD 툴, Github Action을 이용한 Gatsby 블로그 배포 자동화 방법을 간단하게 기록합니다. </div><div class=\"custom-block-body\"></div></div>\n<h3 id=\"기존의-방식\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%A1%B4%EC%9D%98-%EB%B0%A9%EC%8B%9D\" aria-label=\"기존의 방식 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기존의 방식</h3>\n<p>일단 2개의 branch가 필요하다</p>\n<ul>\n<li><code class=\"language-text\">master</code> : 배포를 위한 정적 파일 위치</li>\n<li><code class=\"language-text\">develop</code> : Gatsby 코드 파일 위치</li>\n</ul>\n<p>사실 이름은 중요하지 않다. settings -> pages -> source 에서 정적 파일의 브랜치를 변경할 수 있다. 또한 settings -> branches -> default branch에서 레포지토리 접근 시 보여지는 branch를 변경할 수 있다. 위의 경우 <code class=\"language-text\">develop</code> 로 변경하면 조금 더 깔끔해 보인다.</p>\n<p><code class=\"language-text\">master</code> 브랜치에 <code class=\"language-text\">gatsby build</code>  명령어를 통해 만들어진 <code class=\"language-text\">public</code> 폴더를 위치시키기 위해 <code class=\"language-text\">package.json</code> 에 <code class=\"language-text\">deploy</code> 라는 명령어로 <code class=\"language-text\">gatsby build &amp;&amp; gh-pages -d public -b master</code> 를 실행할 수 있게 한다.  보통 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby develop\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"serve\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby serve\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build &amp;&amp; gh-pages -d public -b master\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>그러니까 블로그 관리자 입장에서 블로그에 글을 올리려면 다음과 같은 과정이 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">npm</span> run deploy\n<span class=\"token comment\"># 사실 위의 명령어를 되게 좋다!? 아래의 일을 한번에 해준다.</span>\n<span class=\"token comment\"># 1. gatsby build</span>\n<span class=\"token comment\"># 2. public folder to master branch</span>\n<span class=\"token comment\"># 3. add &amp; commit &amp; push</span>\n\n<span class=\"token comment\"># 하지만 추가적으로 내 코드 관리를 해야하기 때문에 deploy 브랜치도 추가해줘야 한다.</span>\n<span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">git</span> commit -m <span class=\"token string\">\"Meesage\"</span>\n<span class=\"token function\">git</span> push</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>사실 어려울 건 없다. </p>\n<h3 id=\"github-action을-이용한-배포-자동화\" style=\"position:relative;\"><a href=\"#github-action%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%B0%ED%8F%AC-%EC%9E%90%EB%8F%99%ED%99%94\" aria-label=\"github action을 이용한 배포 자동화 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Github Action을 이용한 배포 자동화</h3>\n<p>뭔가 모든 일을 다 해줄 것 같은 이름을 지었지만 고작 한단계를 줄여볼거다..</p>\n<p>바로 <code class=\"language-text\">npm run deploy</code> 이거!</p>\n<p>블로그가 배포된 레포지토리에서 <code class=\"language-text\">Actions</code> 탭에 들어가자. <strong>set up a workflow yourself</strong> 클릭</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7bef3b8cd68f79d628d3a1fa40fa4872/d9ed5/githubaction.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 21.27659574468085%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAmUlEQVQY032OWw6CMBBFWUp5lBb6olBEYkCM+1/TtVMiQU38OJnOzeT2ZKV0KKVFzhUKYUB7ozx4nFXrE/yM6tNk8Z5xjbw2CXoXwiKjpXEXDPMDblzQX+/ophXh9oTQQzqmw292EfeTp0JpAmxYoIYVetzQ+hmqm2JhOFn1n5YRsqeSXJjj4ywFb+3a7kR9Vqkj/w8V2qPwBV5qdxgR6As7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"githubaction\" title=\"githubaction\" src=\"/static/7bef3b8cd68f79d628d3a1fa40fa4872/1d69c/githubaction.png\" srcset=\"/static/7bef3b8cd68f79d628d3a1fa40fa4872/4dcb9/githubaction.png 188w,\n/static/7bef3b8cd68f79d628d3a1fa40fa4872/5ff7e/githubaction.png 375w,\n/static/7bef3b8cd68f79d628d3a1fa40fa4872/1d69c/githubaction.png 750w,\n/static/7bef3b8cd68f79d628d3a1fa40fa4872/78797/githubaction.png 1125w,\n/static/7bef3b8cd68f79d628d3a1fa40fa4872/aa440/githubaction.png 1500w,\n/static/7bef3b8cd68f79d628d3a1fa40fa4872/d9ed5/githubaction.png 2880w\" sizes=\"(max-width: 750px) 100vw, 750px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>아래의 코드를 작성하자</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Gatsby Publish\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> develop <span class=\"token comment\"># 1</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest <span class=\"token comment\"># 2</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2 <span class=\"token comment\"># 3</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> enriikke/gatsby<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>action@v2 <span class=\"token comment\"># 4</span>\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">access-token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token comment\"># 5</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>간단히 아는만큼 설명해보겠다.</p>\n<ol>\n<li>언제 이 workflow가 실행될지를 결정하는 부분이다. 위의 예시는 <code class=\"language-text\">develop</code> 브랜치에 <code class=\"language-text\">push</code> 가 되었을 때 실행된다는 의미이다.</li>\n<li>Github Action은 하나의 컨테이너 위에서 동작한다. <code class=\"language-text\">ubuntu-latest</code> 에서 동작시키겠다는 의미이다. 어디서 봤는데 <code class=\"language-text\">macos</code> , <code class=\"language-text\">windows</code> 에서도 동작시킬 수 있다고 한다. 이에따라 더 세부적인 작업들도 가능하다.</li>\n<li>steps에 있는 각 uses는 서로 다른 작업들이라고 이해하면 되는데 <code class=\"language-text\">actions/checkout@v2</code> 는 내 레포지토리를 가져온다는 정도로 이해하고 있다.</li>\n<li>핵심부분인데 정확하겐 모른다..  궁금한 사람은 <a href=\"https://github.com/enriikke/gatsby-gh-pages-action\">여기</a>를 참고하자!!</li>\n<li>4번에서 필요로 하는 Github에 접근을 위한 토큰이다. <code class=\"language-text\">secrets.&lt;props&gt;</code> 는 레포지토리 Secrets을 불러오는 문법이다.</li>\n</ol>\n<h4 id=\"repository-secrets-설정하기\" style=\"position:relative;\"><a href=\"#repository-secrets-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"repository secrets 설정하기 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Repository secrets 설정하기</h4>\n<p><strong>ACCESS TOKEN 발급받기</strong></p>\n<p><a href=\"https://github.com/settings/tokens\">https://github.com/settings/tokens</a> 여기서 <code class=\"language-text\">Generate new token</code>을 클릭한다.</p>\n<p>그리고 아래와 같이 입력하고 아래의 <code class=\"language-text\">Generate Token</code>을 클릭한다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f3c1269e97b0614a71ad533665f99117/de0bd/token.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 62.23404255319148%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABdUlEQVQoz31SWXaDMBDLSZqEHRsvYLYsTZvX+59pOhoC5SU0H/LY8CxrNNrFZUNJNZLyA+l6pETVdEgrOmaGwZX3OEe5pahwU83n+oodFuV6ynRD+0TJx6o5kQ0XMuEssIykdHRItDywQB6dsBBmylM43cl2VypMR3nVClk9fJHvb1LdcKcq3Eg3V4EC6osIKQHbCxmIdym/rP3Iqs7c8omyKsi+sJ3sc9OyJT1jkJoCZpAaswUzFkIsB/FJC3CGlyDfc4sfsaL9A7JnW7Zanto2k4dr4IeBQlaGlzGkpPQLotXll7sgxHJ8/Jxfsu2VHHuKQcHTnFtPdaBYBYo4FXEZZNKbCp8JUf3wLdOFSgAWYAiFn5CakdV72upuRfhHqjmTvv/k6XXiKwaDKCGrcWEX/94SrlUq11HLUcL0MTBEo2LFmH7KNsxkzzn8V2FppzZxGd/gI2KEnCJKizqJyxwb977l7vIjJGuFiBKgHOeQp7/V8i8kYWdbDV5bXAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"token\" title=\"token\" src=\"/static/f3c1269e97b0614a71ad533665f99117/1d69c/token.png\" srcset=\"/static/f3c1269e97b0614a71ad533665f99117/4dcb9/token.png 188w,\n/static/f3c1269e97b0614a71ad533665f99117/5ff7e/token.png 375w,\n/static/f3c1269e97b0614a71ad533665f99117/1d69c/token.png 750w,\n/static/f3c1269e97b0614a71ad533665f99117/78797/token.png 1125w,\n/static/f3c1269e97b0614a71ad533665f99117/aa440/token.png 1500w,\n/static/f3c1269e97b0614a71ad533665f99117/de0bd/token.png 2238w\" sizes=\"(max-width: 750px) 100vw, 750px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>그러면 생성되는 아래의 토큰을 복사한다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c803001dbe0af1bc0f04310f6d70743e/a4f81/generated.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 8.51063829787234%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAW0lEQVQI112MSw6AIAxEvQ0YfooBCsX7H2us4MKweJlOJn2byQm2ZFgqcC+VJqPTtxH2UqFigL5OqB+zH+OOpWFzTR6F0OsCjfRM8L3BMEMnEWaRpBURSjLfeADthD+UweQ5QQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"generated\" title=\"generated\" src=\"/static/c803001dbe0af1bc0f04310f6d70743e/1d69c/generated.png\" srcset=\"/static/c803001dbe0af1bc0f04310f6d70743e/4dcb9/generated.png 188w,\n/static/c803001dbe0af1bc0f04310f6d70743e/5ff7e/generated.png 375w,\n/static/c803001dbe0af1bc0f04310f6d70743e/1d69c/generated.png 750w,\n/static/c803001dbe0af1bc0f04310f6d70743e/78797/generated.png 1125w,\n/static/c803001dbe0af1bc0f04310f6d70743e/aa440/generated.png 1500w,\n/static/c803001dbe0af1bc0f04310f6d70743e/a4f81/generated.png 1508w\" sizes=\"(max-width: 750px) 100vw, 750px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p><strong>발급받은 Access Token Secrets에 저장하기</strong></p>\n<p>Settings로 이동</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/26023b6c1bbe024cd20149461b632024/d9ed5/settings.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 9.042553191489363%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAZElEQVQI12WMSw6AIBBDPYqiwCDIT40mLlh5/yNVmagbFy9pX5M2OhXQcoJygbQZPYUPoT3Em19vIvtpPhjyK2zcGRM2NNIEDOShXYYcE9R9Wo+1m7mze3J1Me2ge2+lQ6emHxf9qzxFzKFBwQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"settings\" title=\"settings\" src=\"/static/26023b6c1bbe024cd20149461b632024/1d69c/settings.png\" srcset=\"/static/26023b6c1bbe024cd20149461b632024/4dcb9/settings.png 188w,\n/static/26023b6c1bbe024cd20149461b632024/5ff7e/settings.png 375w,\n/static/26023b6c1bbe024cd20149461b632024/1d69c/settings.png 750w,\n/static/26023b6c1bbe024cd20149461b632024/78797/settings.png 1125w,\n/static/26023b6c1bbe024cd20149461b632024/aa440/settings.png 1500w,\n/static/26023b6c1bbe024cd20149461b632024/d9ed5/settings.png 2880w\" sizes=\"(max-width: 750px) 100vw, 750px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>Secrets 클릭 후 오른쪽 위에 보이는 <code class=\"language-text\">New repository secret</code> 르 클릭한다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c85f3d90afb028df2c0c39bc15232b2b/ed84e/secrets.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 43.61702127659575%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABXklEQVQoz2WSZ47DQAiFc5QUx326e2KnrLZIe//zvAVcomh/oCnANw+YXZQ76OqKTDezmQaJqmQtXIe48NhHBfbn8p+pMMD3D8k/JhqHWGHHCe30JQ4VLuIsXA/XTgh0Z+rrBs9ti9y0KMmf6kbiSj8gKYPAGDoDRwJ2dwGycSK/bptRzgxQlFj6frPMDohVgzNVGGVWYMeEFCZlhf7+A9veYJpJVn6VIZbOrCJVtSiabd6z6s3o/FZyM34KbC2ZFXLA2l8um9Wy+e4Gy+d6FN9L3QYM6KZvShpFGUMzswApOMocYt0jsdQKPyEPk+xj1Yn/lJp34JkUhuE590qAg5SxBkhwahfjZCP7U/pSdkrMC5jRF7k8fwn6Qf2707SfW+m+e8gjrFgmvEx57V0u9x3SpSIB5srBhB6FraEcBesK3IZYe6S+wrl0ooBLY+My5a/SMPnhQL3XBDwsU/4DImcXZQlA0oEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"secrets\" title=\"secrets\" src=\"/static/c85f3d90afb028df2c0c39bc15232b2b/1d69c/secrets.png\" srcset=\"/static/c85f3d90afb028df2c0c39bc15232b2b/4dcb9/secrets.png 188w,\n/static/c85f3d90afb028df2c0c39bc15232b2b/5ff7e/secrets.png 375w,\n/static/c85f3d90afb028df2c0c39bc15232b2b/1d69c/secrets.png 750w,\n/static/c85f3d90afb028df2c0c39bc15232b2b/78797/secrets.png 1125w,\n/static/c85f3d90afb028df2c0c39bc15232b2b/aa440/secrets.png 1500w,\n/static/c85f3d90afb028df2c0c39bc15232b2b/ed84e/secrets.png 2656w\" sizes=\"(max-width: 750px) 100vw, 750px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>아래와 같이 추가하자</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4cc5437bcf41418a1c571ddf74b7e7d5/ddb6a/add.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 57.97872340425532%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABBUlEQVQoz52SyW6DMBRF/RtNohQzGBNszBgoXVQkilKp/Y9u+/+b24cj0lbNYLo4sgFz3rV0WdK9QzYHyPYNqj2g7gdih/p5h3BTgAsNP86cYSJ7gp9UCNItItUg1jWkbogagTSzZFZYdi9QRYdN1lAaBU4vx1SnZOYkleYsn75dg42JRFohTPKLB+YlJGGad3Z6lJYkLq1cnPelTXkv1c/hTNFPhq6bmy0MUeSt3U/PPFJYejFWXN5kPOPRWbZYR1g8EuvLTLJxvcYvoct0F76F/H4CV6zwYUlXW5HUo0n+fxMmdrW1KY499L5FoKhnIptd5D/FHj5f0X8MCCuqR6idynuLL330XIQYYk0LAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"add\" title=\"add\" src=\"/static/4cc5437bcf41418a1c571ddf74b7e7d5/1d69c/add.png\" srcset=\"/static/4cc5437bcf41418a1c571ddf74b7e7d5/4dcb9/add.png 188w,\n/static/4cc5437bcf41418a1c571ddf74b7e7d5/5ff7e/add.png 375w,\n/static/4cc5437bcf41418a1c571ddf74b7e7d5/1d69c/add.png 750w,\n/static/4cc5437bcf41418a1c571ddf74b7e7d5/78797/add.png 1125w,\n/static/4cc5437bcf41418a1c571ddf74b7e7d5/aa440/add.png 1500w,\n/static/4cc5437bcf41418a1c571ddf74b7e7d5/ddb6a/add.png 1592w\" sizes=\"(max-width: 750px) 100vw, 750px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<br/>\n<p>이제 내가 Postring을 하기 위해 할 일은 <code class=\"language-text\">deploy</code> 브랜치 위에서 </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">git</span> commit -m <span class=\"token string\">\"Meesage\"</span>\n<span class=\"token function\">git</span> push</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>이상이다.</p>","tableOfContents":"<ul>\n<li><a href=\"/category/blog/gatsby_publish_by_github_action/#%EA%B8%B0%EC%A1%B4%EC%9D%98-%EB%B0%A9%EC%8B%9D\">기존의 방식</a></li>\n<li>\n<p><a href=\"/category/blog/gatsby_publish_by_github_action/#github-action%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%B0%B0%ED%8F%AC-%EC%9E%90%EB%8F%99%ED%99%94\">Github Action을 이용한 배포 자동화</a></p>\n<ul>\n<li><a href=\"/category/blog/gatsby_publish_by_github_action/#repository-secrets-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\">Repository secrets 설정하기</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"[Blog] Gatsby Blog 배포 자동화","description":"","date":"2021.10.27","emoji":"🤖","category":"blog"}}},"pageContext":{"slug":"/category/blog/gatsby_publish_by_github_action/","relatedPosts":[{"node":{"fields":{"slug":"/category/blog/interview/"},"frontmatter":{"title":"[면접준비] minimum 질문&답변","date":"2021.11.22","emoji":"❓","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/hackerrank_certification/"},"frontmatter":{"title":"해커랭크 인증서 발급 후기","date":"2021.11.19","emoji":"📚","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/m1-tensorflow/"},"frontmatter":{"title":"[Tensorflow] M1에서 Tensorflow GPU 사용하기 (Monterey)","date":"2021.11.13","emoji":"💪","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/effective-python/"},"frontmatter":{"title":"[책] 파이썬 코딩의 기술","date":"2021.11.02","emoji":"📚","category":"blog"}}},{"node":{"fields":{"slug":"/category/blog/mlops/simple_model_deploy_mnist/"},"frontmatter":{"title":"[MLOps] Vertex AI에서 모델 배포하기 (MNIST)","date":"2021.11.01","emoji":"🏃","category":"blog"}}}]}}}